خوب فایلهاشو گزاشتم اپدیت کردم که ببینی ساختم سناریو یادته دیگه؟ دوباره مینویسم برایت ببین با دیجنگو api و پنل ادمین react vite داریم یه سیستم مثل crm پنل ادمین میسازم برای املاک که تعداد زیادی املاک داره برای پروژه بزرگ املاک که در این پنل ادمین میتونه تمام مدیریت ها و امارهارو داشته باشند و و املاک با تعداد بالا و مدیا مرکزی دارم و و ادمینها با دسترسی های متفاوت دارم و دیجنگو هست هواست باشه میخوام مدل بسازم برای املاک مدل یوزرهای و ادمین رو ساختم و جداشون کردم در دیتابیس البته وب سایت هم وصل میشه به این پس با دقت میخوام سرچ کنی ومدل رو ببینی برای post sql مدلها باید بشه مستقل باشند ولی دیاگرام و مدل باید بهینه و خرفهای برای سرعت بالاا و تعداد بالا باشند پس مدله و دیاگرام خیلی مهم برای تعداد بالا نمیدونم abstract یا  generic باید فکر کنی سرچ کنی بهترین مدل رو بسازیم برای پروژه بزرگ و بهینه و سرعت که خیلیییی مهمه یه مورد مهمی هست ما مشاورین و اژآنسها رو داریم و این مهمتریم مسئله برای  جدا سازی یوزر در دیجنگو هست ببین مشاورین ملاک رو نمیدونم باید همون ادمین ها در نظر بگیریم؟ یعنی بیایم ادمین باشند اینها یا نه چون برای ورود به پنل مشاورین مثلا میخوان ورود کنند یا آژانسها درسته البته یوزرهای مغمولی که برای وب سایت هستند و هیچی و این مشاورین املاک و آژانسها درتسرسی ها متفاوت دارند دیگه درسته؟ البته من برای ادمینها ساختم فایلی که قبلا یاختیم و جدا کردم ببین نمیدونم الان چیکار کنیم ادمینها و آژانسها بشوند همون ادمینها؟ حالا فایلهایی که ساختمو ببین ببین ما مشاورین املاگ و اژانسها هومن ادمینها هستند با دسترسی متفاوت خوب و شهر استانشو مثل یوزر و ادمنیها در اپ یوزر هست ولی شهتر استان و غیره و لوکیشن املاک جدا هست برای سرعت بهتر و حالا مشاورین و اژانسها جروی از ادمینها هستند الان درست مدل هست؟ و اینکه یا باید کلا مشاورینو و اژانس جدا شه و از اپ یوزر نباشه؟ البته خوب فقط اینها هستند که میتونن وارد پنل ادمین بشوند و دسترسی متفاوت دارند و مورد بعد ادرس داریم که جدا کردیم درست و و لوکیشنو دادیم بهتر درسته؟ ما نقشه هم برای املاک داریم ببین تکرار نشه در ردیف ها الان مدل ادرس جدا شده ایا درسته برای املاک و تغداد بالا یا میشه در یک مدل گزاشت سرعت کم میشه یا باید جدا شه البته foreinkey زیاد باید هواسمون باشه شاید 1000 تا ادرس باشه فیلترها مهمه فیلتر های برا شعر لوکیشونو نقشه پس خیلی مهمن سرعت فایلامو ببین با سرچ قوی دیگه در حرفه ای مثل سایتها دیوار و املاک قوی باید درستو بهینه حرفه ای باشه بعدا مشکل ایجاد نشه برای 100000 تا املاک با سرچ ها و فیلترها برای api میخوام اول مدلهارو ببینی خیلی مهم مدلها بهینه و درست باشه سرچ کن بهینه بباشه ایا خوبه الان ردیف ها زیاد نیست سرعت باید خیلی قوی باشه

Agency (اختیاری – برای سازمانی‌ها)

فقط برای grouping و گزارش

یوزر نیست

ملک باید هر دو نسبت رو داشته باشه:

class Property(models.Model):
    agency = ForeignKey(
        Agency,
        null=True,
        blank=True,
        on_delete=SET_NULL
    )
    agent = ForeignKey(
        User,
        on_delete=PROTECT
    )

    معنی دقیقش:

این ملک متعلق به این آژانسه (اگر سازمانی باشه)

این ملک توسط این مشاور مدیریت می‌شه

چرا هر دو لازمن؟ (خیلی مهم)
❌ فقط agent داشته باشی:

گزارش بنگاهی سخت می‌شه

اگر مشاور عوض شد، تاریخچه آژانس می‌پره

برند آژانس گم می‌شه

❌ فقط agency داشته باشی:

مسئول مستقیم ملک معلوم نیست

KPI مشاور نداری

accountability از بین می‌ره

✅ هر دو با هم:

✔️ گزارش دقیق
✔️ دسترسی درست
✔️ تاریخچه سالم
✔️ UI شفاف
بله، ملک هم آژانس دارد هم مشاور

✔️ آژانس برای مالکیت سازمانی