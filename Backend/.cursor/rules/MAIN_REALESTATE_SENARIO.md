# سناریوی نهایی سیستم املاک (CRM + Admin Panel)

**مقیاس: 100K+ ملک | سرعت بالا | شبیه دیوار**

**این سناریو برای مارکت پلیس نیست.**

**دیجنگو api و پنل ادمین react vite داریم. post sql**

**از OPENSTREET Leaflet استفاده کردیم برای رابگان بودنش.**

مشاورین املاک همون ادمینها هستند و قرار نیست آزانسها وارد پنل شوند و چون آژنسها یدونه هست مگر اینکه سازمان باشه خواست در پنل اضافه میکنه و املاک و مشاورینشو نمایش میدیم در اصل فقط مشاورین اینجوری FRIENKEY داند با یوزر 

agency = ForeignKey(
'RealEstateAgency',
null=True,
blank=True,
on_delete=SET_NULL
)

Agency (User نیست ❌)

**قوانین Location (خیلی مهم) :**

محله = متن آزاد.

منطقه = چون محدود در دیتابیس وارد شده با اسکریپت و با مثلا تهران چون منطقه داره نمایش میده هم در ادرس هم فیلدش ظاهر میشه.

ببین ما کشور که ایرانه و شهر داریم استان داریم محله داریم منطقه داریم در ایران حالا :
برای منطقه ها اسکریپت اجرا کردیم وارد دیتابیس بشه
برای شهر استان هم اسکریپت داریم وارد دیتابیس بشه
برای مختصات نقشه هم اسکریپت داریم وارد دیتابیس بشه

اسکریپتها :
import_iranian_locations.py
populate_city_regions.py
populate_location_coordinates.py

نباید محله و منطقه تکراری اضافه شه و شاید حتی اپرتمان دوتا باشه در یه جا و فاصله خیلی کمی دارند و درستش اینه نام محل تکراری و منطقه تکراری نشه دیتا زیاد شه

**فرانت :**

نقشه داریم که با پین ادرس پر میشه و محله هم پر میشه و منطقه به این صورت :

ادرس : تهران, منطقه ۱۱, خیابان بی آر تی خط 7

ولی همه جا منطقه نداره شهر ها اوکی پس هواست به این مورد باشه.

فیلد انتخابی استان و شهر داریم که با انتخاب این فیلدها نقشه میره روی مختصاتش.