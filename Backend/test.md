ببین ساتیه دیوار ایجادشو میتونی ببینی؟ میخوام بفهمی اون قسمت نوشته سایر ویژکیها وافا با ویژگی داده یا مدلش مثل ما ساخته ولی به صورتیه مثال مگم زده سند باز میکنی جندتا گزینه مثل ما داره برای انتخاب میخوام دونم این جحوری درست کرده با ویژگی یا نه مثل مارو ببین چجوریه

«پارکینگ/انباری/آسانسور/سال ساخت/سند» = بهتر است در مدل اصلی بماند (مثل الان)
features = امکانات منعطف مثل کولر، تراس، لابی و...
اگر خواستی کاملاً مثل دیوار داینامیک شود، قدم بعدی ساخت AttributeDefinition/AttributeValue است، نه تبدیل همه‌چیز به feature. بیشتر توضیج بده متوجه نشدم

حوب مدل سنگین تر میشه که سرهت کم میشه همینجوری کلی qoery forrienkey أداره جدول بزرگه بدتر میشه که



دقیق بگو زیاد بلد نیستم دقیق بگو در chrome چیکار کنم بدم بهت بفهمی ههمرو

cript.react%2F8.13.0
unacted-bundle-count
unread
simple-submit
envelope/?sentry_key=7e7d19d51ebe4bd5955fda8ab5010…=7&sentry_client=sentry.javascript.react%2F8.13.0
envelope/?sentry_key=7e7d19d51ebe4bd5955fda8ab5010…=7&sentry_client=sentry.javascript.react%2F8.13.0
fex_light.json
fex_light.json
simple-submit
collect?frm=0&ae=g&en=page_view&dl=https%3A%2F%2Fd…8&apve=1&apvf=f&apvc=1&tft=1772133817401&tfd=4889
style-light-view-port-v1.0.0-4897a0b0-neshan.json
sprite.json
Fetchsprite.png
⚙ 201.pbf
⚙ 201.pbf
mapbox-gl-rtl-text.min.js
collect?frm=0&ae=g&dl=https%3A%2F%2Fdivar.ir%2Fnew…095&tid=AW-10929151095&tft=1772133818672&tfd=6160
0-255.pbf
1536-1791.pbf
64256-64511.pbf
65024-65279.pbf
collect?v=2&tid=G-1G1K17N77F&gtm=45je62p0v92087142…7%D8%B1&en=page_view&ep.debug_mode=true&tfd=10554
collect?v=2&tid=G-1G1K17N77F&gtm=45je62p0v92087142…=true&epn.percent_scrolled=90&_et=19188&tfd=29751
envelope/?sentry_key=7e7d19d51ebe4bd5955fda8ab5010…=7&sentry_client=sentry.javascript.react%2F8.13.0
envelope/?sentry_key=7e7d19d51ebe4bd5955fda8ab5010…=7&sentry_client=sentry.javascript.react%2F8.13.0
50 / 218 requests
647 kB / 4,829 kB transferred
4,132 kB / 31,108 kB resources
Finish: 2.6 min
DOMContentLoaded: 1.7 min
sentry_key
7e7d19d51ebe4bd5955fda8ab50107b1
sentry_version
7
sentry_client
sentry.javascript.react%2F8.13.0
{"sent_at":"2026-02-26T19:24:28.600Z","sdk":{"name":"sentry.javascript.react","version":"8.13.0"}}
{"type":"session"}
Request URL
https://sentry.divar.cloud/api/5/envelope/?sentry_key=7e7d19d51ebe4bd5955fda8ab50107b1&sentry_version=7&sentry_client=sentry.javascript.react%2F8.13.0
Request Method
POST
Status Code
200 OK
Remote Address
31.214.250.155:443
Referrer Policy
origin
access-control-allow-origin
*
access-control-expose-headers
x-sentry-error,x-sentry-rate-limits,retry-after
content-length
2
content-type
application/json
cross-origin-resource-policy
cross-origin
date
Thu, 26 Feb 2026 19:24:25 GMT
strict-transport-security
max-age=31536000
vary
origin
vary
access-control-request-method
vary
access-control-request-headers
x-datacenter
hwbRequest URL
https://sentry.divar.cloud/api/5/envelope/?sentry_key=7e7d19d51ebe4bd5955fda8ab50107b1&sentry_version=7&sentry_client=sentry.javascript.react%2F8.13.0
Request Method
POST
Status Code
200 OK
Remote Address
31.214.250.155:443
Referrer Policy
origin{"sent_at":"2026-02-26T19:26:00.041Z","sdk":{"name":"sentry.javascript.react","version":"8.13.0"}}
{"type":"session"}
{"sid":"b4da5cd978d74b878bb414d737bc4673","init":true,"started":"2026-02-26T19:26:00.039Z","timestamp":"2026-02-26T19:26:00.039Z","status":"ok","errors":0,"attrs":{"release":"the-wall-v12-345-3","environment":"client","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/145.0.0.0 Safari/537.36"}} {,…}
business_dataRequest URL
https://api.divar.ir/v8/submit-v2/simple-submit
Request Method
POST
Status Code
200 OK
Remote Address
185.166.104.6:443
Referrer Policy
strict-origin-when-cross-origin 
: 
{business_type: "PERSONAL"}
business_type
: 
"PERSONAL"
carry
: 
"CgwIs7uCzQYQy/fD+gEajgEKFQoFVGl0bGUSDAoKCgjbjNiz2LTbjAorCgtEZXNjcmlwdGlvbhIcChoKGNi02LPbjNi02LPbjNuM2LTbjNi024zYtApICgZJbWFnZXMSPiI8CjovbmVkYS9saXZlLXBvc3QtaW1hZ2UvMjdiNzU3NzgtOWUxMS00NTAxLTljNjEtODhjYzkyNjI0YzY4MAI6JDAxOWM5YjY4LTA1NDUtNzYxYS04NDQ3LTM3ZjljYjFmZmMxZkIkMDE5YzliNjgtMDU0NS03NjFkLTg2N2MtYzJiMzVmYzJhYjZmWASKAQZJbWFnZXOKAQVUaXRsZYoBC0Rlc2NyaXB0aW9uigEIQ2F0ZWdvcnk="
carry_signature
: 
"k11k6zpKn1FgwEW2U/q2bX0BkPRZWf1FgI4Jr01C0Bu1QmAQbHKR3Wi1JGqcVRdKQHRsY6NVV2KHR5H7Y/qrfp77kxzOIMUwLafiMVrwTuPNfuv0TYBC+SxQMRg="
changed_fields
: 
[]
data
: 
{data: {Category: {str: {value: "apartment-sell"}}, Location_CityId: {integer: {value: "1"}},…},…}
default_values
: 
{data: {Location_CityId: {integer: {value: "1"}}}}
page
: 
2
skip_review
: 
false از اینا چیزی معلومه؟

آره، از همین هم خیلی چیز معلومه.

نتیجه قطعی از لاگی که فرستادی:

دیوار فرم را با سیستم داینامیک Attribute می‌سازد، نه فقط features ساده.
چون داخل payload داری:
data: { Category, Location_CityId, ... }
هر فیلد با نوع می‌آید: str, integer, ...
این یعنی فیلدها typed attribute هستند.
وجود carry و carry_signature یعنی فرم حالت‌دار است (wizard/state machine) و مرحله‌به‌مرحله فیلدها را سرور تعیین می‌کند.
پس «سند / سرمایش / گرمایش / ...» در دیوار به احتمال خیلی بالا attributeهای داینامیک‌اند (گزینه‌ای/چندگزینه‌ای/بولین)، نه یک ManyToMany ساده مثل features آزاد.

برای اینکه 100٪ بگم هرکدام دقیقاً چه نوعی‌اند، فقط این یک مورد را بفرست:

همان درخواست simple-submit در مرحله‌ای که «سایر ویژگی‌ها و امکانات» را زدی،
و فقط بخش data.data کاملش (کلیدها و نوع‌ها).
از روی همان، دقیق می‌گم کدام‌ها باید در مدل ثابت باشند و کدام‌ها attribute/feature.


Request URL
https://api.divar.ir/v8/submit-v2/simple-submit
Request Method
POST
Status Code
200 OK
Remote Address
185.166.104.6:443
Referrer Policy
strict-origin-when-cross-origin
accept-ranges
bytes{,…}
business_data
: 
{business_type: "PERSONAL"}
carry
: 
"CgwIs7uCzQYQy/fD+gEajgEKFQoFVGl0bGUSDAoKCgjbjNiz2LTbjAorCgtEZXNjcmlwdGlvbhIcChoKGNi02LPbjNi02LPbjNuM2LTbjNi024zYtApICgZJbWFnZXMSPiI8CjovbmVkYS9saXZlLXBvc3QtaW1hZ2UvMjdiNzU3NzgtOWUxMS00NTAxLTljNjEtODhjYzkyNjI0YzY4MAI6JDAxOWM5YjY4LTA1NDUtNzYxYS04NDQ3LTM3ZjljYjFmZmMxZkIkMDE5YzliNjgtMDU0NS03NjFkLTg2N2MtYzJiMzVmYzJhYjZmWASKAQZJbWFnZXOKAQVUaXRsZYoBC0Rlc2NyaXB0aW9uigEIQ2F0ZWdvcnk="
carry_signature
: 
"k11k6zpKn1FgwEW2U/q2bX0BkPRZWf1FgI4Jr01C0Bu1QmAQbHKR3Wi1JGqcVRdKQHRsY6NVV2KHR5H7Y/qrfp77kxzOIMUwLafiMVrwTuPNfuv0TYBC+SxQMRg="
changed_fields
: 
[]
data
: 
{data: {Category: {str: {value: "apartment-sell"}}, Location_CityId: {integer: {value: "1"}},…},…}
data
: 
{Category: {str: {value: "apartment-sell"}}, Location_CityId: {integer: {value: "1"}},…}
Category
: 
{str: {value: "apartment-sell"}}
Location_ApproximatePoint
: 
{point: {}}
Location_CityId
: 
{integer: {value: "1"}}
Location_NeighborhoodId
: 
{integer: {value: "280"}}
Location_Point
: 
{point: {value: {latitude: 35.68390998590819, longitude: 51.418262886135835}}}
Location_Street
: 
{str: {value: "خ قورخانه"}}
Videos
: 
{video: {value: []}}
balcony
: 
{str: {value: ""}}
building_direction
: 
{str: {value: ""}}
str
: 
{value: ""}
building_facade
: 
{str: {value: ""}}
cabinet_material
: 
{repeated_string: {value: []}}
cooling_system
: 
{str: {value: ""}}
deed_type
: 
{str: {value: ""}}
str
: 
{value: ""}
elevator
: 
{str: {value: "false"}}
exchangeable
: 
{boolean: {value: false}}
floor
: 
{str: {value: "2"}}
floor_type
: 
{str: {value: ""}}
floors_count
: 
{str: {value: ""}}
has_loan
: 
{boolean: {value: false}}
heating_system
: 
{str: {value: ""}}
is_own_image
: 
{str: {value: "not_own_image"}}
jacuzzi
: 
{boolean: {value: false}}
boolean
: 
{value: false}
kitchen_type
: 
{str: {value: "جزیره"}}
str
: 
{value: "جزیره"}
value
: 
"جزیره"
occupancy_status
: 
{str: {value: ""}}
parking
: 
{str: {value: "false"}}
pool
: 
{boolean: {value: true}}
price
: 
{integer: {value: "1000"}}
integer
: 
{value: "1000"}
rebuilt
: 
{boolean: {value: false}}
rooms
: 
{str: {value: "سه"}}
sauna
: 
{boolean: {value: false}}
size
: 
{integer: {value: "100"}}
toilet
: 
{str: {value: ""}}
unit_per_floor
: 
{str: {value: ""}}
warehouse
: 
{str: {value: "true"}}
warm_water_provider
: 
{str: {value: ""}}
year
: 
{str: {value: "۱۴۰۱"}}
online_request_response_data
: 
{}
default_values
: 
{data: {Location_CityId: {integer: {value: "1"}}}}
data
: 
{Location_CityId: {integer: {value: "1"}}}
page
: 
2
skip_review
: 
false 
access-control-allow-credentials
true
access-control-allow-headers
*
access-control-allow-methods
GET
access-control-allow-methods
PUT
access-control-allow-methods
PATCH
access-control-allow-methods
POST
access-control-allow-methods
DELETE
access-control-allow-origin
https://divar.ir
access-control-expose-headers
X-JWT-REFRESH
access-control-expose-headers
X-JWT-ERROR
access-control-expose-headers
x-zrk-sn
access-control-expose-headers
Front-Token
access-control-max-age
120
content-encoding
br
content-type
application/json
date
Thu, 26 Feb 2026 19:25:56 GMT
grpc-message
grpc-status
0
server
Sotoon CDN
strict-transport-security
max-age=31536000
vary
Accept-Encoding
vary
Origin
vary
Access-Control-Request-Method
vary
Access-Control-Request-Headers
x-datacenter
neda
x-zrk-cs
BYPASS
x-zrk-sn
1031
x-zrk-us
200page: {page: 3,…}, enable_socket: true, source: "CLIENT_SIMPLE_SUBMIT", token: ""}
enable_socket
: 
true
page
: 
{page: 3,…}
action_log
: 
{server_side_info: {info: {@type: "type.googleapis.com/action_log.SubmitFormPageInfo",…},…},…}
enabled
: 
true
server_side_info
: 
{info: {@type: "type.googleapis.com/action_log.SubmitFormPageInfo",…},…}
auto_focus_widgets_uids
: 
[]
carry
: 
"CgwIs7uCzQYQy/fD+gEaigcKKAoOTG9jYXRpb25fUG9pbnQSFioUChIJFnHHXIrXQUARwIpko4m1SUAKFAoOY29vbGluZ19zeXN0ZW0SAgoACiEKDGlzX293bl9pbWFnZRIRCg8KDW5vdF9vd25faW1hZ2UKFQoJd2FyZWhvdXNlEggKBgoEdHJ1ZQoMCgRwb29sEgQaAggBChQKB3BhcmtpbmcSCQoHCgVmYWxzZQoZChN3YXJtX3dhdGVyX3Byb3ZpZGVyEgIKAAoNCgdyZWJ1aWx0EgIaAAoUCgR5ZWFyEgwKCgoI27HbtNuw27EKSAoGSW1hZ2VzEj4iPAo6L25lZGEvbGl2ZS1wb3N0LWltYWdlLzI3Yjc1Nzc4LTllMTEtNDUwMS05YzYxLTg4Y2M5MjYyNGM2OAoMCgRzaXplEgQSAghkCg4KBXByaWNlEgUSAwjoBwoVCghlbGV2YXRvchIJCgcKBWZhbHNlCgsKBXNhdW5hEgIaAAoNCgdqYWN1enppEgIaAAorCgtEZXNjcmlwdGlvbhIcChoKGNi02LPbjNi02LPbjNuM2LTbjNi024zYtAoRCgVyb29tcxIICgYKBNiz2YcKEAoKZmxvb3JfdHlwZRICCgAKDQoHYmFsY29ueRICCgAKEgoMZXhjaGFuZ2VhYmxlEgIaAAooCg9Mb2NhdGlvbl9TdHJlZXQSFQoTChHYriDZgtmI2LHYrtin2YbZhwoSCgxmbG9vcnNfY291bnQSAgoACg4KBWZsb29yEgUKAwoBMgoMCgZ0b2lsZXQSAgoAChQKDnVuaXRfcGVyX2Zsb29yEgIKAAoUCg5oZWF0aW5nX3N5c3RlbRICCgAKGAoSYnVpbGRpbmdfZGlyZWN0aW9uEgIKAAogChdMb2NhdGlvbl9OZWlnaGJvcmhvb2RJZBIFEgMImAIKDwoJZGVlZF90eXBlEgIKAAoeCgxraXRjaGVuX3R5cGUSDgoMCgrYrNiy24zYsdmHChUKD2J1aWxkaW5nX2ZhY2FkZRICCgAKFgoQY2FiaW5ldF9tYXRlcmlhbBICIgAKFwoPTG9jYXRpb25fQ2l0eUlkEgQSAggBChYKEG9jY3VwYW5jeV9zdGF0dXMSAgoACg4KCGhhc19sb2FuEgIaAAoeCghDYXRlZ29yeRISChAKDmFwYXJ0bWVudC1zZWxsChUKBVRpdGxlEgwKCgoI24zYs9i024wwAzokMDE5YzliNjgtMDU0NS03NjFhLTg0NDctMzdmOWNiMWZmYzFmQiQwMTljOWI2OC0wNTQ1LTc2MWQtODY3Yy1jMmIzNWZjMmFiNmZYBIoBBkltYWdlc4oBBVRpdGxligELRGVzY3JpcHRpb26KAQhDYXRlZ29yeQ=="
carry_signature
: 
"2ydzKP9OeTv79PeyNRKdb3cYGicxz/r9IfXBRWBialDw9gvfTARu44jk/+FZbLUkI439fQjSyym/RjafGZ+ys7bTCE8d5KBdRXFUDQ6bBepjvyfePMh0qYNt6qw="
form_id
: 
"019c9b68-0545-761a-8447-37f9cb1ffc1f"
grpc_servicer
: 
""
loading_screen
: 
{title: "در حال بررسی اطلاعات", subtitle: "",…}
lottie_animation
: 
{url_light: "https://s100.divarcdn.com/static/public/submit/fex_light.json",…}
subtitle
: 
""
title
: 
"در حال بررسی اطلاعات"
nav_bar
: 
{type: "STANDARD", items: []}
items
: 
[]
type
: 
"STANDARD"
online_requests
: 
[]
page
: 
3
submission_message
: 
{message: "ثبت شد", type: "BOTTOM_SHEET"}
message
: 
"ثبت شد"
type
: 
"BOTTOM_SHEET"
submit_button
: 
{type: "WIDE_BUTTON_BAR", label: "ثبت و پرداخت: ۸۴,۰۰۰ تومان", is_sticky: true, disabled: false}
title
: 
"ثبت آگهی"
widget_list
: 
[{widget_type: "TITLE_ROW",…}, {widget_type: "I_CHECKBOX_ROW",…}, {widget_type: "I_RADIO_ROW",…},…]
source
: 
"CLIENT_SIMPLE_SUBMIT"
token
: 
""{
 "page": {
  "page": 3,
  "widget_list": [
   {
    "widget_type": "TITLE_ROW",
    "data": {
     "@type": "type.googleapis.com/widgets.TitleRowData",
     "text": "راه\u200cهای تماس آگهی\u200cبیننده با شما",
     "has_divider": false,
     "color": "",
     "text_color": "TEXT_PRIMARY",
     "description": "",
     "description_color": "TEXT_SECONDARY",
     "subtitle": "",
     "subtitle_color": "UNKNOWN",
     "text_type": "SECONDARY",
     "type": "UNKNOWN_TYPE",
     "show_required": true,
     "state": "TITLE_ROW_STATE_UNKNOWN",
     "is_sticky_header": false
    },
    "visibility_condition": [],
    "uid": "contact___SectionTitle"
   },
   {
    "widget_type": "I_CHECKBOX_ROW",
    "data": {
     "@type": "type.googleapis.com/widgets.ICheckboxRowData",
     "key": "",
     "reload": false,
     "has_divider": false,
     "hint": "",
     "disabled": false,
     "field": {
      "key": "Contact_CallEnabled",
      "default": true,
      "validators": {
       "bool_validators": []
      },
      "type": "boolean",
      "disabled": false
     },
     "title": "تماس تلفنی",
     "socket_enabled": false,
     "subtitle": "",
     "size": "SIZE_UNKNOWN",
     "divider_state": "DIVIDER_STATE_UNKNOWN"
    },
    "action_log": {
     "server_side_info": {
      "info": {
       "@type": "type.googleapis.com/action_log.SubmitInputWidgetInfo",
       "form_id": "019c9b68-0545-761a-8447-37f9cb1ffc1f",
       "token": "",
       "category_slug": "apartment-sell",
       "is_form_edit": false,
       "page_number": 3,
       "draft_id": "019c9b68-0545-761d-867c-c2b35fc2ab6f"
      },
      "item_type": {
       "type": "SUBMIT_INPUT_WIDGET"
      }
     },
     "enabled": true
    },
    "visibility_condition": [],
    "uid": "Contact_CallEnabled___Input"
   },
   {
    "widget_type": "I_RADIO_ROW",
    "data": {
     "@type": "type.googleapis.com/widgets.IRadioRowData",
     "key": "",
     "reload": false,
     "has_divider": false,
     "hint": "",
     "field": {
      "key": "Contact_CallMethod",
      "default": "DIRECT_CALL",
      "validators": {
       "string_validators": [
        {
         "min_length": {
          "err": {
           "message": "حداقل یک روش تماس را انتخاب کنید.",
           "format": "NOT_FORMATTED"
          },
          "min": "1"
         }
        },
        {
         "contain": {
          "err": {
           "message": "حداقل یک روش تماس را انتخاب کنید.",
           "format": "NOT_FORMATTED"
          },
          "values": [
           "DIRECT_CALL",
           "SECURE_CALL",
           ""
          ]
         }
        }
       ]
      },
      "type": "str",
      "disabled": false
     },
     "options": [
      {
       "value": "DIRECT_CALL",
       "display": "تماس با ۰۹۱۲۴۷۰۷۹۸۹",
       "description": "شمارهٔ شما روی آگهی نمایش داده می\u200cشود."
      },
      {
       "value": "SECURE_CALL",
       "display": "تماس ناشناس از شمارهٔ واسط دیوار",
       "description": "شمارهٔ شما روی آگهی نمایش داده نمی\u200cشود."
      }
     ],
     "socket_enabled": false,
     "has_indent": true,
     "horizontal_orientation": false,
     "divider_state": "DIVIDER_STATE_UNKNOWN"
    },
    "visibility_condition": [
     {
      "field_key": "Contact_CallEnabled",
      "conditions": {
       "bool_conditions": {
        "validators": {
         "bool_validators": [
          {
           "equality": {
            "value": true
           }
          }
         ]
        }
       }
      }
     }
    ],
    "uid": "Contact_CallMethod"
   },
   {
    "widget_type": "INFO_BOX",
    "data": {
     "@type": "type.googleapis.com/widgets.InfoBoxData",
     "uuid": "SecureCallInfo___SectionTitle",
     "component_type": "INFO",
     "text": "- تماس\u200cگیرنده شمارهٔ شما را نمی\u200cبیند.\n- شماره\u200cهای واسط پیش\u200cشمارهٔ ۰۲۱ دارد.\n- مکالمه\u200cهای شما ضبط می\u200cشود.",
     "is_closeable": false,
     "after_dismiss_hiding_timeout": "0",
     "primary_web_button": {
      "title": "اطلاعات بیشتر",
      "action": {
       "type": "OPEN_WEB_PAGE",
       "payload": {
        "@type": "type.googleapis.com/widgets.OpenWebPagePayload",
        "link": "https://divar.ir/terms/secure-call/supply",
        "page_type": "UNKNOWN",
        "nofollow": false,
        "try_deeplink_first": false
       },
       "page_pop_link": false
      },
      "specification": {
       "usage": "PRIMARY",
       "type": "INLINED",
       "disabled": false,
       "small": false,
       "rounded": false
      }
     },
     "title": "راهنمای تماس ناشناس",
     "icon": {
      "image_url_dark": "https://s100.divarcdn.com/static/imgs/widget-icons/dark/icon_secondary/v1/shield_phone_o.png",
      "image_url_light": "https://s100.divarcdn.com/static/imgs/widget-icons/light/icon_secondary/v1/shield_phone_o.png",
      "icon_name": "SHIELD_PHONE_O",
      "icon_color": "ICON_SECONDARY"
     }
    },
    "visibility_condition": [
     {
      "field_key": "Contact_CallMethod",
      "conditions": {
       "string_conditions": {
        "validators": {
         "string_validators": [
          {
           "contain": {
            "values": [
             "SECURE_CALL",
             "SECURE_CALL_AND_VOIP"
            ]
           }
          }
         ]
        }
       }
      }
     },
     {
      "field_key": "Contact_CallEnabled",
      "conditions": {
       "bool_conditions": {
        "validators": {
         "bool_validators": [
          {
           "equality": {
            "value": true
           }
          }
         ]
        }
       }
      }
     }
    ],
    "uid": "SecureCallInfo___SectionTitle"
   },
   {
    "widget_type": "I_CHECKBOX_ROW",
    "data": {
     "@type": "type.googleapis.com/widgets.ICheckboxRowData",
     "key": "",
     "reload": false,
     "has_divider": false,
     "hint": "",
     "disabled": false,
     "field": {
      "key": "Contact_ChatEnabled",
      "default": true,
      "validators": {
       "bool_validators": []
      },
      "type": "boolean",
      "disabled": false
     },
     "title": "پیام در چت دیوار",
     "socket_enabled": false,
     "subtitle": "",
     "size": "SIZE_UNKNOWN",
     "divider_state": "DIVIDER_STATE_UNKNOWN"
    },
    "action_log": {
     "server_side_info": {
      "info": {
       "@type": "type.googleapis.com/action_log.SubmitInputWidgetInfo",
       "form_id": "019c9b68-0545-761a-8447-37f9cb1ffc1f",
       "token": "",
       "category_slug": "apartment-sell",
       "is_form_edit": false,
       "page_number": 3,
       "draft_id": "019c9b68-0545-761d-867c-c2b35fc2ab6f"
      },
      "item_type": {
       "type": "SUBMIT_INPUT_WIDGET"
      }
     },
     "enabled": true
    },
    "visibility_condition": [],
    "uid": "Contact_ChatEnabled___Input"
   },
   {
    "widget_type": "ERROR_ROW",
    "data": {
     "@type": "type.googleapis.com/widgets.ErrorRowData",
     "text": "حداقل یک روش تماس را انتخاب کنید."
    },
    "action_log": {
     "server_side_info": {
      "info": {
       "@type": "type.googleapis.com/action_log.SubmitInputWidgetInfo",
       "form_id": "019c9b68-0545-761a-8447-37f9cb1ffc1f",
       "token": "",
       "category_slug": "apartment-sell",
       "is_form_edit": false,
       "page_number": 3,
       "draft_id": "019c9b68-0545-761d-867c-c2b35fc2ab6f"
      },
      "item_type": {
       "type": "SUBMIT_INPUT_WIDGET"
      }
     },
     "enabled": true
    },
    "visibility_condition": [
     {
      "field_key": "Contact_CallEnabled",
      "conditions": {
       "bool_conditions": {
        "validators": {
         "bool_validators": [
          {
           "equality": {
            "value": false
           }
          }
         ]
        }
       }
      }
     },
     {
      "field_key": "Contact_ChatEnabled",
      "conditions": {
       "bool_conditions": {
        "validators": {
         "bool_validators": [
          {
           "equality": {
            "value": false
           }
          }
         ]
        }
       }
      }
     }
    ],
    "uid": "contact___SectionErrorRow"
   }
  ],
  "title": "ثبت آگهی",
  "submit_button": {
   "type": "WIDE_BUTTON_BAR",
   "label": "ثبت و پرداخت: ۸۴,۰۰۰ تومان",
   "is_sticky": true,
   "disabled": false
  },
  "submission_message": {
   "message": "ثبت شد",
   "type": "BOTTOM_SHEET"
  },
  "nav_bar": {
   "type": "STANDARD",
   "items": []
  },
  "action_log": {
   "server_side_info": {
    "info": {
     "@type": "type.googleapis.com/action_log.SubmitFormPageInfo",
     "form_id": "019c9b68-0545-761a-8447-37f9cb1ffc1f",
     "token": "",
     "category_slug": "apartment-sell",
     "is_form_edit": true,
     "page_number": 3,
     "draft_id": "019c9b68-0545-761d-867c-c2b35fc2ab6f",
     "submit_source": "CLIENT_SIMPLE_SUBMIT"
    },
    "item_type": {
     "type": "SUBMIT_FORM_PAGE"
    }
   },
   "enabled": true
  },
  "grpc_servicer": "",
  "carry": "CgwIs7uCzQYQy/fD+gEaigcKKAoOTG9jYXRpb25fUG9pbnQSFioUChIJFnHHXIrXQUARwIpko4m1SUAKFAoOY29vbGluZ19zeXN0ZW0SAgoACiEKDGlzX293bl9pbWFnZRIRCg8KDW5vdF9vd25faW1hZ2UKFQoJd2FyZWhvdXNlEggKBgoEdHJ1ZQoMCgRwb29sEgQaAggBChQKB3BhcmtpbmcSCQoHCgVmYWxzZQoZChN3YXJtX3dhdGVyX3Byb3ZpZGVyEgIKAAoNCgdyZWJ1aWx0EgIaAAoUCgR5ZWFyEgwKCgoI27HbtNuw27EKSAoGSW1hZ2VzEj4iPAo6L25lZGEvbGl2ZS1wb3N0LWltYWdlLzI3Yjc1Nzc4LTllMTEtNDUwMS05YzYxLTg4Y2M5MjYyNGM2OAoMCgRzaXplEgQSAghkCg4KBXByaWNlEgUSAwjoBwoVCghlbGV2YXRvchIJCgcKBWZhbHNlCgsKBXNhdW5hEgIaAAoNCgdqYWN1enppEgIaAAorCgtEZXNjcmlwdGlvbhIcChoKGNi02LPbjNi02LPbjNuM2LTbjNi024zYtAoRCgVyb29tcxIICgYKBNiz2YcKEAoKZmxvb3JfdHlwZRICCgAKDQoHYmFsY29ueRICCgAKEgoMZXhjaGFuZ2VhYmxlEgIaAAooCg9Mb2NhdGlvbl9TdHJlZXQSFQoTChHYriDZgtmI2LHYrtin2YbZhwoSCgxmbG9vcnNfY291bnQSAgoACg4KBWZsb29yEgUKAwoBMgoMCgZ0b2lsZXQSAgoAChQKDnVuaXRfcGVyX2Zsb29yEgIKAAoUCg5oZWF0aW5nX3N5c3RlbRICCgAKGAoSYnVpbGRpbmdfZGlyZWN0aW9uEgIKAAogChdMb2NhdGlvbl9OZWlnaGJvcmhvb2RJZBIFEgMImAIKDwoJZGVlZF90eXBlEgIKAAoeCgxraXRjaGVuX3R5cGUSDgoMCgrYrNiy24zYsdmHChUKD2J1aWxkaW5nX2ZhY2FkZRICCgAKFgoQY2FiaW5ldF9tYXRlcmlhbBICIgAKFwoPTG9jYXRpb25fQ2l0eUlkEgQSAggBChYKEG9jY3VwYW5jeV9zdGF0dXMSAgoACg4KCGhhc19sb2FuEgIaAAoeCghDYXRlZ29yeRISChAKDmFwYXJ0bWVudC1zZWxsChUKBVRpdGxlEgwKCgoI24zYs9i024wwAzokMDE5YzliNjgtMDU0NS03NjFhLTg0NDctMzdmOWNiMWZmYzFmQiQwMTljOWI2OC0wNTQ1LTc2MWQtODY3Yy1jMmIzNWZjMmFiNmZYBIoBBkltYWdlc4oBBVRpdGxligELRGVzY3JpcHRpb26KAQhDYXRlZ29yeQ==",
  "carry_signature": "2ydzKP9OeTv79PeyNRKdb3cYGicxz/r9IfXBRWBialDw9gvfTARu44jk/+FZbLUkI439fQjSyym/RjafGZ+ys7bTCE8d5KBdRXFUDQ6bBepjvyfePMh0qYNt6qw=",
  "online_requests": [],
  "form_id": "019c9b68-0545-761a-8447-37f9cb1ffc1f",
  "auto_focus_widgets_uids": [],
  "loading_screen": {
   "title": "در حال بررسی اطلاعات",
   "subtitle": "",
   "lottie_animation": {
    "url_light": "https://s100.divarcdn.com/static/public/submit/fex_light.json",
    "url_dark": "https://s100.divarcdn.com/static/public/submit/fex_dark.json",
    "alt": "",
    "progress_config": {
     "interaction_with_scroll": false,
     "iterations": 0,
     "reverse_on_repeat": false
    }
   }
  }
 },
 "enable_socket": true,
 "source": "CLIENT_SIMPLE_SUBMIT",
 "token": ""
}

عالی بود، با این payload الان دقیق مشخص شد:

دیوار «ویژگی‌ها» را با سیستم Attribute داینامیک تایپ‌دار پیاده کرده، نه features ساده.
دلیل قطعی:
کلیدهای فیلد داینامیک هستند: cooling_system, deed_type, parking, warehouse, year ...
هر فیلد نوع خودش را دارد: str, integer, boolean, repeated_string, point
widget_list از سرور می‌آید و UI را می‌سازد (I_CHECKBOX_ROW, I_RADIO_ROW ...)
پس معماری دیوار اینطوری است:

Form Definition سمت سرور
Attribute Values داینامیک
carry/carry_signature برای state فرم چندمرحله‌ای
برای پروژه تو (CRM املاک) بهترین و سریع‌ترین مدل هنوز هم اینه:

فیلدهای اصلی پرترافیک در Property بمانند (year_built, parking_spaces, has_elevator, document_type ...)
features برای امکانات آزاد
اگر لازم شد مثل دیوار کامل داینامیک شوی، یک لایه جدا بساز:
AttributeDefinition
AttributeOption
PropertyAttributeValue
اگر بخوای، قدم بعدی همین الان برات اسکیمای دقیق این 3 مدل رو طوری می‌نویسم که با ساختار فعلی‌ات تداخل نداشته باشه و سرعت هم افت نکنه.


الان چی شد جیاش مثل ماست و چیاش نه مدلمون مثل اونه مگه نگفتیم سنگین میشه پس اون چجوری انجام داده؟

خلاصه روشن:

مثل شماست

بعضی فیلدها هویتی و اصلی‌اند: Category, Location_*, price, size, year
داده‌ها تایپ‌دارند (عدد/بولین/رشته) نه متن خام
مثل شما نیست

UI فرم را سرور می‌سازد (widget_list)
فیلدها به‌صورت کلیدهای داینامیک می‌آیند (cooling_system, deed_type, parking...)
حالت چندمرحله‌ای دارد (carry, carry_signature) یعنی Form Engine کامل
پس چرا برای دیوار سنگین نشده؟

همه‌چیز را EAV خالص نکرده؛ هیبریدی است (ترکیب فیلدهای اصلی + attributeها)
روی scale بالا بهینه‌سازی سنگین دارند: ایندکس تخصصی، کش، denormalization/materialized data، سرویس‌های جدا
فیلترهای پرتکرار را معمولاً روی ستون/ایندکس سریع نگه می‌دارند، نه join سنگین
نتیجه برای شما:

مدل فعلی‌تان برای CRM درست‌تر است:
Property برای فیلترهای اصلی + features برای امکانات آزاد
اگر بخواهید مثل دیوار شوید، باید Form Engine + Attribute Layer اضافه شود، نه اینکه همه‌چیز را feature کنید.

