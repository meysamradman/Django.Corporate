ุจุจู ูุฏููุงูู ุจุง ุฏูุช ุจุฑุง ุงููุงฺฉ ุจุจู ุฏุงฺฉุจูููุชุงูู ุจุฎูู ูุงููุงูู ุฏุฑุณุช ุจุจู ุงูุงู ูุง ุชุนุฏุงุฏ ูพุงุฑฺฉูฺฏ ุชุนุฏุง ุญูุงู ุชุนุฏุงุฏ ุฎูุงุจ ุณุงู ุณุงุฎุช ุงูุงุฑู ุฏุงุฑู ุฎูุจ ฺฉู ุจุนุถ ุฌุงูุง ููุชุฑ ูู ูุดู ุงูุง ุณุฑุนุช ุจุฑุง Api django ูู ุจุฑุงููู ูููู ุจุจู ุงู ุชุนุฏุงุฏ ูุง ู ุณุงู ุณุงุช ุจุง ุงุฌุงุฏ ูุฑ ููฺฉ ู ุงูฺฉ ุฒุงุฏ ู ุชฺฉุฑุงุฑ ูุงุฑุฏ ูุดู ุฎูุจ ูุซูุง ุชุนุฏุงุฏ ุงุชุงู  ุจุดุชุฑ ุงุฒ 10 ุชุง ฺฉู ูุฏุงุฑู ุง ูพุงุฑฺฉูฺฏ ู ุณุงู ุณุงุฎุช ูู ฺฉู ูุดุฎุตู ุงูุง ูุชูู ุฏุฑ ุฏุชุง ุจุณ ุจุงุดูุฏ ุง ุงุญุงุฏ ุดู ุฏุฑ ุฏุชุงุจุณ ู ููฺฉูุง ุงุณุชูุงุฏู ฺฉูู ุงูุง foreinkey ุฎู ูุดู ุงุฑูุ> ุงูุจุชู ุชุบุฏุงุฏ ุฑุฏู ูู ุฒุงุฏ ุดุฏู ฺฺฉุงุฑ ฺฉูู ูุฎูุงู ุจุง ุฏูุช ูุฏููุงูู ุจุจู ฺ ุจูุชุฑูู ุจุฑุง ูพูู ุงุฏูู ฺฉู 100000 ููฺฉ ุฏุงุฑู ู ุณุฑุนุช ููู ุงูุจุชู ูพูู ุงุฏููููู ุจุง react vite ููุฎูุงู ุจุฑุง ูุฑุงูุช ุจฺฏ ุงูุงู ููู ูุฏู ฺฉ ููุฏ ุงููุงฺฉู ูุฎูุงู ุณุฑฺ ฺฉู ุญุฑูู ุง ุจุงุฏ ุจุงุดู ู ุจุนุฏุง ุจู ูุดฺฉู ูุฎูุฑู 

ู ููุฑุฏ ููู ุฏฺฏู ูุฎุชุตุงุช ุฑู ุจุง ุงุณฺฉุฑูพ ูุงุฑุฏ ฺฉุฑุฏู
ู ููุทูู ูุง ูู ฺูู ุงุฑุงูู ููู ุดูุฑ ููุทูู ูุฏุงุฑู ุฏุฑุณุชู ู ุงููู ุง ุงุณฺฉุฑูพุช ูุงุฑุฏ ฺฉุฑุฏู ูพุณ ุงููุงุฑู ูู ุจุจู
ุจุจู ุณุงู ุณุงุฎุช ู ุงูพุฏุช ฺฉูู ุฏุฑ ูุฏู ุงุฎู ุงูููู ุณุงู ุฑู ุจุฏู ูุฑ ุฏูุนู ุจุงู ุณุงู ุนูุถ ฺฉูู ูู ุณุงู ุจู ูุธุฑุช ูุจุงุฏ ุฌุฏุง ุดู ูู fORIENKEY ุฒุงุฏ ูุดู ฺฺฉุงุฑ ฺฉูู ุณุงู ุณุงุฎุช ุฒุงุฏ ูู ุณุฑฺ ูุดู ููุชุฑ ุฏุงุฑู ุชุนุฏุงุฏ ูุง ูู ููุชุฑ ุจุงุฏ ุจุงุดูุฏ ุงูพุฏุช ฺฉุฑุฏู ูุงููุงุฑู ุจุจู
ุจุจู ุฏุฑ ูุฏู ุทุจูู ฺฏุฒุงุดุชูุ
 ู ููุถูุน ููู ููฺฉู ุฒุฑ ููฺฉู ุฏุงุฑู ุทุจูู ู ููุฑุฏ ุฏูู ุงุชุงู ุจุฏูู ุงุชุงู ูู ุฏุงุฑู ุงูุงุฑู

ุจุฑุง ุงุชุงู ู ููุดุชุงุฑุ ู ุงูุจุงุฑ ุชุนุฏุงุฏ ู ุฏุงุฑุฏ ูุฏุงุฑุฏ ุฏุงุฑู ู ูพุงุฑฺฉูฺฏ ุฏุงุฑุฏ ูุฏุงุฑุฏ ุฏุงุฑู ู ููุบ ฺฉุงุฑุจุฑ ููฺฉ ุจุฑุง ุชุญุงุฑ ูุง ู ุงุฏุง ูููุช ุงุฏุงุฑ ุงูุงุฑู ุฎูุฏู ููุน ฺฉุงุฑุจุฑ ููฺฉ ุฏุงุฑู ู ุณูุฏ ุงุฏุงุฏุฑ ุฏุงุฑุฏ ุง ูุฏุงุฑุฏ ุงูุง ฺุ

ุฏุงุฑู ู ุณูุฏ ุงุฏุงุฏุฑ ุฏุงุฑุฏ ุง ูุฏุงุฑุฏ ุงูุง ฺุ
ุงุฌุงุฑู ฺฉูุชุงู ูุฏุณุช ุจุงุบ ู ููุง ฺฉู ุฎูุฏุด
ุทุฑูุช ุงุณุชุงูุฏุงุฑุฏ 
ุทุฑูุช ุงุถุงูู
ููุช ุจุฑุง ุฑูุฒูุง ุนุงุฏ ุงุฎุฑ ููุชู ุงูุงุฑู ูู ุฏุงุฑู

ูพุด ูุฑูุด ฺฉู ุฎูุฏุด ููุน ูุงุญุฏ ูุถุนุช ุณูุฏ
 GENERIC ABSTRACY JSON ุจุงุฏ ุจุง ุฏูุช ุจุฏููู ฺฺฉุงุฑ ฺฉูู ูุฑุฏุง ูุดฺฉู ูุฎูุฑู ูุซูุง ุณุฆู ุฑู ุจุจู ฺุฌูุฑ ุฏุฑุณุช ฺฉุฑุฏู 

ุฎู ูููู ุงู ููุงุฑุฏ ฺฺฉุงุฑ ฺฉูู ุญุฑูู ุง ุจููู ู ุณุฑุนุช ุจุงุจุงูุง ุจุงุดู ุจุง post sql ุงูฺฉ ูฺฏู ุฏุฑุณุช ุณุฑฺ ฺฉู ูุซู ุญุฑูู ุง ูุง ุฏฺฏุงุฑุงู ุจุงุฏ ุฏุฑุณุช ุจุงุดู ุจุง ุณุฑุนุช ุณุฑฺ ฺฉู ุจูุชุฑูู 2025 ุจุฑุง ุฑุณุฏู ุจู ุณุทุญ ุนููฺฉุฑุฏ ุฏุฑ ุญุฏ ุฏูุงุฑ (Divar) ุง ุฌุงุจุงูุง ุฏุฑ ุณุงู ฒฐฒตุ ุจุงุฏ ุงุฒ ุฑูฺฉุฑุฏูุง ุณูุช ุฌูฺฏู (ูุงููุฏ ุงุณุชูุงุฏู ุจุด ุงุฒ ุญุฏ ุงุฒ ForeignKey ุจุฑุง ููุงุฏุฑ ุนุฏุฏ ฺฉูฺฺฉ) ูุงุตูู ุจฺฏุฑุฏ. ุฏุฑ ููุงุณ ฑฐฐ,ฐฐฐ ููฺฉ ู ุจุงูุงุชุฑุ ุณุฑุนุช API ุดูุง ูุณุชููุงู ุจู ุชุนุฏุงุฏ JOINูุง ู ูุญูู ุงูุฏฺฉุณโฺฏุฐุงุฑ ุฏุฑ PostgreSQL 17 ุจุณุชฺฏ ุฏุงุฑุฏ.

ุฏุฑ ุงุฏุงููุ ุฏุงฺฏุฑุงู ู ุณุงุฎุชุงุฑ ุจููู ุจุฑุง ูพุงุฏูโุณุงุฒ ูุฏูโูุง ุดูุง ุฏุฑ Django 6 ุขูุฑุฏู ุดุฏู ุงุณุช:

ฑ. ุญุฐู ForeignKeyูุง ุชฺฉุฑุงุฑ ู ุงุณุชูุงุฏู ุงุฒ IntegerChoices
ุงุณุชูุงุฏู ุงุฒ ForeignKey ุจุฑุง ููุฏูุง ูุซู ุชุนุฏุงุฏ ุงุชุงูุ ูพุงุฑฺฉูฺฏ ุง ุณุงู ุณุงุฎุช ุงุดุชุจุงู ุจุฒุฑฺฏ ุงุณุช ฺฉู ุจุงุนุซ JOINูุง ุณูฺฏู ูโุดูุฏ. ุฏุฑ ุณุงู ฒฐฒตุ ุจูุชุฑู ุฑุงูฺฉุงุฑ ุงุณุชูุงุฏู ุงุฒ PositiveSmallIntegerField ููุฑุงู ุจุง Choices ุงุณุช.

ูุฒุช: ุญุฐู ุนููุงุช JOIN ู ฺฉุงูุด ุญุฌู ุฏุชุงุจุณ. ูฺฺฏ Deduplication ุฏุฑ PostgreSQL 17 ุจุงุนุซ ูโุดูุฏ ููุงุฏุฑ ุชฺฉุฑุงุฑ ุฏุฑ ุงูุฏฺฉุณโูุง B-Tree ูุถุง ุจุณุงุฑ ฺฉู ุงุดุบุงู ฺฉููุฏ.

ุทุจูู ูุงุญุฏ: ุจุฑุง ูุฏุฑุช "ููฺฉู" ู "ุฒุฑ ููฺฉู"ุ ุงุฒ ุงุนุฏุงุฏ ุตุญุญ ุงุณุชูุงุฏู ฺฉูุฏ (ูุซูุงู ฐ ุจุฑุง ููฺฉูุ ฑ- ุจุฑุง ุฒุฑ ููฺฉู) ู ุฏุฑ ูุงู ูุฑุงูุช ุง ุณุฑุงูุงุฒุฑ ุขู ุฑุง ุชุฑุฌูู ฺฉูุฏ.

ฒ. ุณุงุฎุชุงุฑ ุณูุณููโูุฑุงุชุจ ููฺฉุดู (ุงุฑุงูโูุญูุฑ)
ุจุง ุชูุฌู ุจู ุงูฺฉู ููู ุดูุฑูุง ุงุฑุงู "ููุทูู ุดูุฑุฏุงุฑ" ูุฏุงุฑูุฏุ ูุฏู ููฺฉุดู ุจุงุฏ ููุนุทู ุจุงุดุฏ. ุฑูฺฉุฑุฏ ุงุณฺฉุฑูพุช ุดูุง ุฏุฑุณุช ุงุณุชุ ุงูุง ูุฏู ุจุงุฏ ุจู ุตูุฑุช ุณูุณููโูุฑุงุชุจ (Hierarchical) ุทุฑุงุญ ุดูุฏ:

ูุฏู ูพุดููุงุฏ ุดุฏู: ฺฉ ูุฏู ูุงุญุฏ Location ฺฉู ุจุง ููุฏ parent ุจู ุฎูุฏุด ูุชุตู ุงุณุช.

ุงูุนุทุงู: ุงฺฏุฑ ููฺฉ ุฏุฑ ุชูุฑุงู ุงุณุชุ ุจู "ูุญูู" ูุตู ูโุดูุฏ ฺฉู ูุงูุฏุด "ููุทูู" ู ูุงูุฏ ุขู "ุดูุฑ" ุงุณุช. ุงฺฏุฑ ุฏุฑ ุดูุฑ ฺฉูฺฺฉ ุงุณุชุ ููฺฉ ูุณุชููุงู ุจู "ุดูุฑ" ุง "ูุญูู" ูุตู ูโุดูุฏ ู ููุฏ ููุทูู null ูโูุงูุฏ.

ณ. ูุฏุฑุช ูุฎุชุตุงุช ุจุง PostGIS
ุฐุฎุฑู ูุฎุชุตุงุช ุจู ุตูุฑุช Float ูุนููู ุจุฑุง ุฌุณุชุฌู ุญุฑููโุง ููุดู ุฏุฑ ุณุงู ฒฐฒต ููุณูุฎ ุดุฏู ุงุณุช. ุญุชูุงู ุงุฒ GeoDjango ู ููุฏ PointField ุงุณุชูุงุฏู ฺฉูุฏ.

ุดุงุฎุต GiST: ุงุณุชูุงุฏู ุงุฒ ุงู ุดุงุฎุต ุฑู ููุฏ ูุฎุชุตุงุชุ ุณุฑุนุช ุฌุณุชุฌููุง ูุญุฏูุฏู (Radius Search) ุฑุง ุงุฒ ฺูุฏ ุซุงูู ุจู ฺูุฏ ููโุซุงูู ูโุฑุณุงูุฏ.

ูุฑุงูุชโุงูุฏ: ุจุง ุงู ฺฉุงุฑุ API ุดูุง ููุท ฺฉ ููุฏ ุงุณุชุงูุฏุงุฑุฏ GeoJSON ุฎุฑูุฌ ูโุฏูุฏ ฺฉู ููุฏ ูุฑุงูุช ุฑุง ุจู ุดุฏุช ฺฉุงูุด ูโุฏูุฏ.

ด. ุฑูฺฉุฑุฏ ูุจุฑุฏ: JSONB ุจุฑุง ูฺฺฏโูุง ุฎุงุต
ุจุฑุง ุงููุงฺฉ ุชุฌุงุฑุ ุงุฏุงุฑ ู ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช (ุจุงุบ ู ููุง) ฺฉู ููุฏูุง ุจุณุงุฑ ูุชูุงูุช ุฏุงุฑูุฏ (ูุงููุฏ ุธุฑูุชุ ููุช ุขุฎุฑ ููุชูุ ูุถุนุช ุณูุฏ ุงุฏุงุฑ)ุ ุจู ุฌุง ุงุถุงูู ฺฉุฑุฏู ุณุชููโูุง ุจโูพุงุงู ุจู ุฌุฏูู ุงุตูุ ุงุฒ ููุฏ JSONB ุงุณุชูุงุฏู ฺฉูุฏ.

ููุฏูุง ุซุงุจุช: ูุชุฑุงฺุ ููุช ฺฉูุ ููุน ฺฉุงุฑุจุฑ (ูุณฺฉูู/ุชุฌุงุฑ/ููุง).

ููุฏ JSONB (extra_attributes): ููุงุฑุฏ ูุซู "ุธุฑูุช ุงุถุงูู"ุ "ุณูุฏ ุงุฏุงุฑ ุฏุงุฑุฏ/ูุฏุงุฑุฏ" ู "ุชุนุฏุงุฏ ุงูุจุงุฑ" ุฏุฑ ุงู ููุฏ ุฐุฎุฑู ูโุดููุฏ.

ุดุงุฎุต GIN: ุจุง ูุฑุงุฑ ุฏุงุฏู ฺฉ ุงูุฏฺฉุณ GIN ุฑู ุงู ููุฏุ ูโุชูุงูุฏ ุจุง ุณุฑุนุช ุจุณุงุฑ ุจุงูุง ุฑู ูุญุชูุง ุฏุงุฎู JSON ููุชุฑ ฺฉูุฏ.

ต. ููุชโฺฏุฐุงุฑ ุฏุงูุงูฺฉ ู ุธุฑูุช (ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช)
ุจุฑุง ุจุงุบ ู ููุงุ ุฐุฎุฑู ููุช ุฏุฑ ูุฏู ุงุตู ฺฉุงู ูุณุช. ุฏุฑ ุณุงู ฒฐฒตุ ุงุฒ GeneratedField ุฏุฑ ุฌูฺฏู ถ ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ูุญุงุณุจุงุช ููุช (ูุซูุงู ููุช ฺฉู ุจุฑ ุงุณุงุณ ุธุฑูุช ุงุถุงูู ู ุฑูุฒูุง ุฎุงุต) ูุณุชููุงู ุฏุฑ ุณุทุญ ุฏุชุงุจุณ ุงูุฌุงู ุดูุฏ.

ถ. ูพุงุฑุชุดูโุจูุฏ ุฌุฏุงูู (Table Partitioning)
ุจุฑุง ูุฏุฑุช ฑฐฐ,ฐฐฐ ุฑฺฉูุฑุฏ ู ูุฑุงุชุฑ ุงุฒ ุขูุ ุงุฒ List Partitioning ุจุฑ ุงุณุงุณ province ุงุณุชูุงุฏู ฺฉูุฏ.

ุนููฺฉุฑุฏ: ููุช ฺฉุงุฑุจุฑ ุงููุงฺฉ "ุชูุฑุงู" ุฑุง ููุชุฑ ูโฺฉูุฏุ PostgreSQL ุงุตูุงู ุณุฑุงุบ ุฏุงุฏูโูุง ุงุตููุงู ุง ูุดูุฏ ููโุฑูุฏ (Partition Pruning)ุ ฺฉู ุงู ููุถูุน ุณุฑุนุช ุณุฑฺ ุฑุง ฺูุฏู ุจุฑุงุจุฑ ูโฺฉูุฏ.

ท. ุณุฆู ู ุงุณูุงฺฏโูุง ุฏุงูุงูฺฉ
ูุฏู ุณุฆู ุดูุง ุจุงุฏ ุดุงูู ููุฏูุง seo_title ู meta_description ุจุงุดุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ GeneratedField ุฌูฺฏู ถุ ุงุณูุงฺฏโูุง ุญุฑููโุง ู ฺฉุชุง (ูุซูุงู: ูุฑูุด-ุขูพุงุฑุชูุงู-ฑฐฐ-ูุชุฑ-ุชูุฑุงู-ุณุนุงุฏุช-ุขุจุงุฏ) ุฑุง ุฏุฑ ุฏุชุงุจุณ ุชููุฏ ฺฉูุฏ ุชุง ูุงุฒ ุจู ุงุณฺฉุฑูพุชโูุง ุณูฺฏู ุฏุฑ ุฒูุงู ุฐุฎุฑูโุณุงุฒ ูุจุงุดุฏ.

ุฎูุงุตู ุฏุงฺฏุฑุงู ูุนูุงุฑ ูุฏู Property
ุจุฎุด	ููุน ููุฏ / ุชฺฉููููฺ	ูุญูู ูพุงุฏูโุณุงุฒ ุญุฑููโุง
ุชุนุฏุงุฏ ุงุชุงู/ูพุงุฑฺฉูฺฏ/ุณุงู	PositiveSmallIntegerField	
ุงุณุชูุงุฏู ุงุฒ Choices ุฏุงุฎู ุฌูฺฏู (ุญุฐู JOIN) 

ูููุนุช ูฺฉุงู	ForeignKey ุจู ูุฏู ุณูุณููโูุฑุงุชุจ	
ูุงุจูุช Null ุจุฑุง ููุงุทู ุฏุฑ ุดูุฑูุง ฺฉูฺฺฉ 

ูุฎุชุตุงุช ุฌุบุฑุงูุง	PointField (PostGIS)	
ุงุณุชูุงุฏู ุงุฒ ุดุงุฎุต GiST ุจุฑุง ุณุฑุนุช ุณุฑฺ ููุดู 

ูฺฺฏโูุง ุฎุงุต (ููุง/ุชุฌุงุฑ)	JSONB	
ุงุณุชูุงุฏู ุงุฒ ุดุงุฎุต GIN ุจุฑุง ููุชุฑูุง ููุนุทู 

ูุญุงุณุจุงุช ููุช	GeneratedField (Django 6)	
ูุญุงุณุจู ููุช ูุงูฺฏู ุง ฺฉู ุฏุฑ ุณุทุญ ุฏุชุงุจุณ 

ููุงุณโูพุฐุฑ	Partitioning	
ุชูุณู ุฌุฏูู ุงุตู ุจุฑ ุงุณุงุณ ุงุณุชุงู (Province) 

ุจุง ุงู ูุนูุงุฑุ ุดูุง ฺฉ ุณุณุชู Scalable ุฎูุงูุฏ ุฏุงุดุช ฺฉู ูู ุชููุง ุจุง ฑฐฐ,ฐฐฐ ุจูฺฉู ุจุง ููููโูุง ุฑฺฉูุฑุฏุ ุณุฑุนุช API ุฎูุฏ ุฑุง ุญูุธ ูโฺฉูุฏ ู ุฏุฑ ูพูู ุงุฏูู React ูุฒ ุจู ุฏูู ุณุจฺฉ ุจูุฏู ฺฉูุฆุฑโูุงุ ูฺ ูฺฏ ูุฎูุงูุฏ ุฏุงุดุช. ๐ ุจูููโุณุงุฒ ูุฏูโูุง ุจุฑุง 100,000+ ููฺฉ
1. ูุดฺฉู ููุฏูุง ChoiceField - ุณุงู ุณุงุฎุช ู ุชุนุฏุงุฏูุง
ูุดฺฉู: get_year_built_choices() ุฏุฑ ูุฑ ุจุงุฑ ููุฏ ูุฏู/ูุฑู ุงุฌุฑุง ูโุดูุฏ (ูฺฏุฑุงู performance ูุจุงุดุฏ ฺูู Django cache ูโฺฉูุฏ ุงูุง ุจุฑุง migration ูุดฺฉู ุงุณุช).

ุฑุงูโุญู ุญุฑููโุง:

python
# property.py - ุจู ุฌุง dynamic choices
from django.core.validators import MinValueValidator

class Property(BaseModel, SEOMixin):
    # โ ุจู ุฌุง choices ุฏุงูุงูฺฉุ ุงุฒ IntegerField ุจุง validators ุงุณุชูุงุฏู ฺฉู
    year_built = models.SmallIntegerField(
        null=True,
        blank=True,
        db_index=True,
        verbose_name="ุณุงู ุณุงุฎุช (ุดูุณ)",
        validators=[
            MinValueValidator(1300),
            MaxValueValidator(lambda: datetime.now().year - 621 + 5)  # ุณุงู ูุนู + 5
        ]
    )
    
    # โ ุจุฑุง ุชุนุฏุงุฏูุง: ุงุฒ SmallIntegerField ุจุง ูุญุฏูุฏู ููุทู ุงุณุชูุงุฏู ฺฉู
    bedrooms = models.SmallIntegerField(
        default=1,
        validators=[MinValueValidator(0), MaxValueValidator(20)],
        db_index=True,
        verbose_name="ุชุนุฏุงุฏ ุฎูุงุจ"
    )
    
    # โ ุงูุฒูุฏู ููุฏ ููุน ุงุชุงู (ุจุฑุง ุงุณุชูุฏู)
    room_type = models.CharField(
        max_length=20,
        choices=[
            ('studio', 'ุงุณุชูุฏู'),
            ('1bed', 'ฑ ุฎูุงุจู'),
            ('2bed', 'ฒ ุฎูุงุจู'),
            # ...
        ],
        default='1bed',
        db_index=True
    )
2. ุจูููโุณุงุฒ Index ูุง ุจุฑุง ุฌุณุชุฌู ุณุฑุน
ูุดฺฉู: Index ูุง ุฒุงุฏ ุฏุงุฑุฏ ฺฉู ููฺฉู ุงุณุช ููุดุชู ุฑุง ฺฉูุฏ ฺฉูุฏ.

ุฑุงูโุญู:

python
class Meta:
    # โ ููุท index ูุง ุถุฑูุฑ (Partial Index ุจุฑุง query ูุง ุฑุงุฌ)
    indexes = [
        # ุจุฑุง 80% ุฌุณุชุฌููุง ฺฉุงุฑุจุฑุงู
        models.Index(
            fields=['is_published', 'is_public', 'city', 'property_type', '-published_at'],
            name='idx_main_public_search',
            condition=models.Q(is_published=True, is_public=True)
        ),
        
        # ุจุฑุง ููุชุฑูุง ุชุฑฺฉุจ (Composite Index)
        models.Index(
            fields=['city', 'bedrooms', 'bathrooms', 'price'],
            name='idx_filter_combination'
        ),
        
        # ุจุฑุง ููุดู (Geo Index)
        models.Index(
            fields=['latitude', 'longitude'],
            name='idx_geo_location'
        ),
        
        # BRIN Index ุจุฑุง ุชุงุฑุฎ (ุจููู ุจุฑุง ุฌุฏููโูุง ุจุฒุฑฺฏ)
        BrinIndex(fields=['created_at'], name='idx_brin_created'),
    ]
3. ูุดฺฉู ูุฎุชุตุงุช ู ููุทููโุจูุฏ
ุงุดฺฉุงู: Denormalization ุฎูุจ ุงุณุช ุงูุง consistency ูุดฺฉู ูโุดูุฏ.

ุฑุงูโุญู:

python
# location.py - ุจูุจูุฏ ูุฏู ูููุนุช
class PropertyLocation(BaseModel):
    """ูุฏู ุฌุฏุงฺฏุงูู ุจุฑุง ุงุทูุงุนุงุช ูฺฉุงู (ููุงุณโูพุฐุฑ)"""
    property = models.OneToOneField(
        Property,
        on_delete=models.CASCADE,
        related_name='geo_data'
    )
    
    # โ GeometryField ุจุฑุง PostGIS (ุงฺฏุฑ ุงุฒ PostGIS ุงุณุชูุงุฏู ูโฺฉู)
    point = models.PointField(
        geography=True,
        srid=4326,
        null=True,
        blank=True
    )
    
    # โ Geohash ุจุฑุง ุฌุณุชุฌู ุณุฑุน ูุฒุฏฺฉ
    geohash = models.CharField(
        max_length=12,
        db_index=True,
        null=True,
        blank=True
    )
    
    # โ ุงุทูุงุนุงุช ูฺฉุงู denormalized
    city_id = models.IntegerField(db_index=True)
    province_id = models.IntegerField(db_index=True)
    region_id = models.IntegerField(null=True, db_index=True)
    
    class Meta:
        indexes = [
            models.Index(fields=['city_id', 'province_id']),
            GinIndex(fields=['geohash'], name='idx_gin_geohash'),
        ]
4. ุจูููโุณุงุฒ QuerySet ุจุฑุง ูพูู ุงุฏูู
python
# managers.py
class PropertyQuerySet(models.QuerySet):
    def for_admin_dashboard(self):
        """ุจูููโุณุงุฒ ุจุฑุง ุฏุงุดุจูุฑุฏ ุงุฏูู"""
        return self.select_related(
            'property_type', 'state', 'city', 'province', 'agent'
        ).only(
            'id', 'public_id', 'title', 'price', 
            'city__name', 'province__name', 'property_type__title',
            'is_published', 'is_featured', 'created_at'
        ).annotate(
            image_count=Count('images', distinct=True),
            inquiry_count=Count('inquiries', distinct=True)
        ).prefetch_related(
            Prefetch(
                'images',
                queryset=PropertyImage.objects.filter(is_main=True).only('image_id'),
                to_attr='main_image'
            )
        )
    
    def for_map_search(self, bounds):
        """ุฌุณุชุฌู ุณุฑุน ุฑู ููุดู"""
        return self.filter(
            is_published=True,
            is_public=True,
            latitude__isnull=False,
            longitude__isnull=False,
            latitude__range=(bounds['south'], bounds['north']),
            longitude__range=(bounds['west'], bounds['east'])
        ).only(
            'id', 'title', 'price', 'latitude', 'longitude',
            'property_type_id', 'bedrooms'
        )
5. ุณุณุชู Generic ุจุฑุง ููุฏูุง ูพูุง
ูุดฺฉู: ููุฏูุง ุฌุฏุฏ ูุซู "ุงุฌุงุฑู ฺฉูุชุงู ูุฏุช"ุ "ุธุฑูุช ุงุถุงูู" ู...

ุฑุงูโุญู:

python
# dynamic_fields.py
class PropertyDynamicField(BaseModel):
    """ููุฏูุง ูพูุง ุจุฑุง ุงููุงุน ูุฎุชูู ููฺฉ"""
    property = models.ForeignKey(
        Property,
        on_delete=models.CASCADE,
        related_name='dynamic_fields'
    )
    field_type = models.CharField(
        max_length=50,
        choices=[
            ('short_term_rent', 'ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช'),
            ('weekend_price', 'ููุช ุขุฎุฑ ููุชู'),
            ('extra_capacity', 'ุธุฑูุช ุงุถุงูู'),
            ('standard_capacity', 'ุธุฑูุช ุงุณุชุงูุฏุงุฑุฏ'),
            ('pre_sale_status', 'ูุถุนุช ูพุดโูุฑูุด'),
        ],
        db_index=True
    )
    
    # โ JSON ุจุฑุง ููุงุฏุฑ ูุฎุชูู
    value_json = models.JSONField(default=dict)
    
    # โ ุง ููุฏูุง ุชุงูพโุดุฏู
    value_text = models.TextField(blank=True)
    value_number = models.DecimalField(max_digits=15, decimal_places=2, null=True)
    value_boolean = models.BooleanField(null=True)
    value_date = models.DateField(null=True)
    
    class Meta:
        db_table = 'property_dynamic_fields'
        unique_together = ['property', 'field_type']
        indexes = [
            models.Index(fields=['property', 'field_type']),
            GinIndex(fields=['value_json'], name='idx_gin_dynamic_json'),
        ]
6. ุจูููโุณุงุฒ SEO ู Cache
python
# cache_utils.py
class PropertyCacheManager:
    @staticmethod
    def get_cached_property(slug):
        """Cache ูุงูโุจูุฏ ุดุฏู ุจุฑุง performance"""
        cache_key = f'property:detail:{slug}'
        cached = cache.get(cache_key)
        
        if cached is None:
            # L1: Redis Cache
            property = Property.objects.select_related(
                'property_type', 'state', 'city', 'province', 'agent'
            ).prefetch_related(
                'images__image',
                'features',
                'labels'
            ).get(slug=slug)
            
            # ุณุฑุงูุงุฒ ู cache ฺฉู
            cached = serialize_property(property)
            
            # TTL ูุชูุงูุช ุจุฑุง ุฏุงุฏูโูุง ูุฎุชูู
            cache.set(cache_key, cached, timeout=300)  # 5 ุฏููู ุจุฑุง ุฏุชุง ูุชุบุฑ
            cache.set(f'property:static:{slug}', cached['static_data'], timeout=86400)  # 24 ุณุงุนุช
        return cached
7. Partitioning ุจุฑุง ุฌุฏููโูุง ุจุฒุฑฺฏ
python
# partitioning.py
class PartitionedPropertyManager(models.Manager):
    def get_queryset(self):
        """Auto-partitioning ุจุฑ ุงุณุงุณ ุดูุฑ ุจุฑุง tables ุจุฒุฑฺฏ"""
        # ุฏุฑ production ุงุฒ PostgreSQL partitioning ุงุณุชูุงุฏู ฺฉู
        return super().get_queryset()
8. API Endpoint ูุง ุจููู
python
# api_views.py
class PropertyListView(APIView):
    @method_decorator(cache_page(60 * 2))  # 2 ุฏููู cache
    def get(self, request):
        """API ุณุฑุน ุจุง pagination ู ููุชุฑ ุจููู"""
        queryset = Property.objects.published()
        
        # โ ุงุฒ cursor pagination ุจุฑุง performance ุจูุชุฑ ุงุณุชูุงุฏู ฺฉู
        paginator = CursorPaginator(queryset, ordering=['-published_at', 'id'])
        
        # โ ููุชุฑูุง ุจูููโุดุฏู
        filters = self.extract_filters(request)
        queryset = queryset.fast_filter(filters)
        
        # โ ููุท ููุฏูุง ุถุฑูุฑ
        queryset = queryset.only(
            'id', 'title', 'slug', 'price', 'city_id', 
            'property_type_id', 'bedrooms', 'bathrooms'
        )
        
        page = paginator.page(first=20, after=request.GET.get('after'))
        return Response(self.serialize_page(page))
9. Migration Strategy ุจุฑุง ุณุงู ุณุงุฎุช
python
# migration_strategy.py
"""
ุจู ุฌุง ุชุบุฑ ูุฏู ูุฑ ุณุงูุ ุงุฒ validators ุฏุงูุงูฺฉ ุงุณุชูุงุฏู ฺฉู
ุง ุณุงูโูุง ุฑุง ุฏุฑ ุฌุฏูู ุฌุฏุงฺฏุงูู ูฺฏู ุฏุงุฑ
"""

class ConstructionYear(BaseModel):
    """ุฌุฏูู ุณุงูโูุง ุณุงุฎุช (ุงุณุชุง)"""
    year = models.SmallIntegerField(primary_key=True)
    label = models.CharField(max_length=20)  # "ฑดฐฒ"
    decade = models.SmallIntegerField()  # 1400 ุจุฑุง ฺฏุฑููโุจูุฏ
    
    class Meta:
        db_table = 'construction_years'
        ordering = ['-year']
    
    @classmethod
    def populate_years(cls):
        """ูพุฑ ฺฉุฑุฏู ุฎูุฏฺฉุงุฑ ุณุงูโูุง"""
        current_year = jdatetime.datetime.now().year
        for year in range(1300, current_year + 10):
            cls.objects.get_or_create(
                year=year,
                defaults={
                    'label': str(year),
                    'decade': (year // 10) * 10
                }
            )

# ุฏุฑ ูุฏู Property:
year_built = models.ForeignKey(
    ConstructionYear,
    on_delete=models.PROTECT,
    null=True,
    blank=True,
    db_index=True
)
10. ูฺฉุงุช ููุง ุจุฑุง Performance:
ุงุฒ SELECT ... FOR UPDATE ุฒุงุฏ ุงุณุชูุงุฏู ูฺฉู

Connection Pooling ุจุง PGBouncer

Read Replica ุจุฑุง query ูุง ุณูฺฏู

Materialized Views ุจุฑุง ุขูุงุฑูุง ูพฺุฏู

Use Django's defer() ู only() ุจุฑุง ฺฉุงูุด ุจุงุฑ

Async tasks ุจุฑุง ุนููุงุช ุณูฺฏู

Compression ุจุฑุง JSON responses

11. ุจุฑุง ููุฏูุง ุฎุงุต:
ุงูุจุงุฑ/ูพุงุฑฺฉูฺฏ: boolean + ุชุนุฏุงุฏ (ููุงูุทูุฑ ฺฉู ูุณุช ุฎูุจ ุงุณุช)

ููุน ฺฉุงุฑุจุฑ: ChoiceField (ุฏุฑุณุช ุงุณุช)

ูุถุนุช ุณูุฏ: ChoiceField (ุฏุฑุณุช ุงุณุช)

ููฺฉู/ุฒุฑููฺฉู: ุงุฒ ููุงู floor_number ุจุง ููุงุฏุฑ ููู ุงุณุชูุงุฏู ฺฉู

ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช: ููุฏ ุฌุฏุงฺฏุงูู short_term_rental ุงุถุงูู ฺฉู

12. ูููโุชุฑู ุชูุตู:
ุงุฒ PostgreSQL features ุงุณุชูุงุฏู ฺฉู:

PostGIS ุจุฑุง ุฌุณุชุฌู ุฌุบุฑุงูุง

Partial Indexes ุจุฑุง ุฌุฏุง ฺฉุฑุฏู ุฏุงุฏูโูุง ูุนุงู/ุบุฑูุนุงู

BRIN Indexes ุจุฑุง ุชุงุฑุฎโูุง

Materialized Views ุจุฑุง ุฏุงุดุจูุฑุฏูุง

Table Partitioning ุจุฑุง tables > 1M ุฑฺฉูุฑุฏ

ูุฏูโูุง ุดูุง ุฏุฑ ฺฉู ุฎูุจ ุทุฑุงุญ ุดุฏูุ ููุท ูุงุฒ ุจู ฺฉู ุจูููโุณุงุฒ index ู cache strategy ุฏุงุฑุฏ.

 

ุฎู ุฎูุจุ ูู ูุฏูโูุงุช ุฑู ุฏูู ู ูุงูุน ุฏุฏู (property / location / seo / agent / agency) ู ุงูุงู ุฌูุนโุจูุฏ ุญุฑููโุงุ ุจุฏูู ุดุนุงุฑ ูโุฏูุ ุฏููุงู ุจุง ูุฑุถ:

๐ฆ 100,000+ ููฺฉ (ู ุฑุดุฏ ุชุง ูููู)

โก API Django ุณุฑุน (React/Vite ูุฑุงูุช)

๐ ุณุฑฺ ู ููุชุฑ ุณูฺฏู ูุซู ุฏูุงุฑ / ุฌุงุจุงูุง

๐ฎ๐ท ุฏุชุง ุงุฑุงู (ุดูุฑ ุจุฏูู ููุทููุ ุงุณฺฉุฑูพุช)

๐ง ุจุฏูู ุฏุฑุฏุณุฑ Migration ุณุงูุงูู

๐ ุจุฏูู ForeignKey ุจโููุฑุฏ

1๏ธโฃ ุณูุงู ุงุตู ุชู:
ยซุงู ุชุนุฏุงุฏูุง ู ุณุงู ุณุงุฎุช FK ุจุงุดู ุง Fieldุยป
โ ุฌูุงุจ ูุทุน (2025 โ Production Grade):

ูฺโฺฉุฏูู ุงุฒ ุงูโูุง FK ูุจุงุดู
ูุฏู ูุนูโุงุช ุงูุฌุง ุฏุฑุณุชโุชุฑู ุงูุชุฎุงุจ ููฺฉูู ๐

ฺุฑุงุ
ููุฏ	FKุ	ฺุฑุง ุงุดุชุจุงูู
year_built	โ	200 JOIN ุงุถุงู ุฏุฑ ุณุฑฺ
bedrooms	โ	ููุงุฏุฑ ูุญุฏูุฏ โ Integer
bathrooms	โ	ููุชุฑ ุนุฏุฏ ูุณุชูู
parking	โ	FK = JOIN ุจโุงุฑุฒุด
floor	โ	ุนุฏุฏ ููู/ูุซุจุช โ ุนุฏุฏ

๐ด FK ููุท ููุช ุฎูุจู ฺฉู:

ุฌุฏููุด ุฑูุชุงุฑ ูุณุชูู ุฏุงุดุชู ุจุงุดู

ุฏุงุฏูโุงุด ุชุบุฑูพุฐุฑ ู ุฑุงุจุทูโุฏุงุฑ ุจุงุดู

ุงูุฌุง ูุฏุงุฑู โ Integer ุจูุชุฑูู

2๏ธโฃ ุณุงู ุณุงุฎุช โ ูฺฏุฑุงู ุงุตู ุชู (ุฎู ููู ฺฏูุช)
โ ุงุดุชุจุงู ุฑุงุฌ:

ุฌุฏูู ุฌุฏุง

FK

Migration ูุฑ ุณุงู

โ ฺฉุงุฑ ฺฉู ุงูุงู ฺฉุฑุฏ = ุจูุชุฑู ุญุงูุช ููฺฉู
year_built = models.SmallIntegerField(
    null=True,
    blank=True,
    db_index=True
)

๐ฅ ูฺฉุชู ุญุฑููโุง:

ุชู ุจุง ุงู constraint ุดุงูฺฉุงุฑ ฺฉุฑุฏ ๐

CheckConstraint(
    condition=Q(year_built__gte=1300) & Q(year_built__lte=1500),
)


ุนู:

โ ูู FK

โ ูู migration

โ safe ุชุง 50 ุณุงู ุขูุฏู

โ indexable

โ fast filter

ุฏููุงู ููู ุฑู ูฺฏู ุฏุงุฑ โ๏ธ

3๏ธโฃ ุทุจูู / ููฺฉู / ุฒุฑููฺฉู
ุทุฑุงุญโุงุช 10/10 ๐
floor_number = SmallIntegerField(
    choices=[-2, -1, 0, 1, 2, ...]
)

ฺุฑุง ุนุงููุ

ุฒุฑููฺฉู = -1

ููฺฉู = 0

ููุชุฑ Range ุฑุงุญุช

ุจุฏูู JSON

ุจุฏูู FK

ุจุฏูู if ุนุฌุจ

ุฏูุงุฑ ู Zillow ุฏููุงู ููู ฺฉุงุฑ ุฑู ูโฺฉูู.

4๏ธโฃ ุงุชุงู ุจุฏูู ุงุชุงู (Studio)
ุงูุงู:
bedrooms = 0  # ุงุณุชูุฏู

๐ฅ ูพุดููุงุฏ ููุง (ุงุฎุชุงุฑ):

ุงฺฏุฑ ุจุนุฏุงู ุฎูุงุณุช:

room_layout = CharField(
  choices=[studio, 1bed, 2bed]
)


ูู ุงูุงู ููู 0 ฺฉุงููุงู ฺฉุงูู
ูฺ ูุงุฒ ุจู ูุฏู ุฌุฏุง ูุณุช

5๏ธโฃ ูพุงุฑฺฉูฺฏ / ุงูุจุงุฑ / ุฏุงุฑุฏ-ูุฏุงุฑุฏ
ุงูุงู:
parking_spaces = SmallInteger
storage_rooms = SmallInteger

ุงู ุจูุชุฑู ุงูฺฏูุณุช ฺูู:

0 = ูุฏุงุฑุฏ

>=1 = ุฏุงุฑุฏ

ูู count ุฏุงุฑ

ูู boolean

โ ุฏู ููุฏ (has_parking + count) ุงุดุชุจุงูู
โ๏ธ ูุฏู ุชู ุฏุฑุณุชโุชุฑู

6๏ธโฃ ููุน ฺฉุงุฑุจุฑ / ุณูุฏ / ุงุฏุงุฑ
ฺฉุงุฑุช ฺฉุงููุงู ุฏุฑุณุชู:
usage_type = CharField(choices=...)
document_type = CharField(choices=...)


ฺุฑุง FK ููุ

ุฏุงุฏู static

ุชุบุฑ ฺฉู

ุณุฑฺ ุฒุงุฏ

JOIN = ูุฑฺฏ performance

7๏ธโฃ ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช / ููุง / ุธุฑูุช / ููุช ุขุฎุฑ ููุชู
ุงูุฌุง ููุท ฺฉ ูฺฉุชู ููู ุฏุงุฑู ๐ฅ

ุงูุงู ุงู ููุฏูุง ุฏุฑ Property ุงุตู ูุณุชู
ู ุงู ุนุงูู ๐

ูพุดููุงุฏ ููุง (Production):
extra_attributes = JSONB


ุจุฑุง:

capacity_standard

capacity_extra

weekend_price

short_term_rent

admin_document (true/false)

+ ุงูุฏฺฉุณ:
GIN(extra_attributes)


๐ ุฏููุงู ฺฉุงุฑ ฺฉู Airbnb / Jabama ูโฺฉูู

8๏ธโฃ Location (ุงุฑุงูโูุญูุฑ) โ ุฎู ุฎูุจ ุญูุด ฺฉุฑุฏ
ูุงูุนุช ุงุฑุงู:

ููู ุดูุฑูุง ููุทูู ูุฏุงุฑู โ๏ธ

ููุทูู ุงุณฺฉุฑูพุช โ๏ธ

ูุญูู text โ๏ธ

ูุฏู ุชู:
region = FK(nullable)
neighborhood = CharField
city/province denormalized


ุงู ฺฉุงููุงู ุฏุฑุณุช ู scale-safe ูุณุช
FK ุจู ูุญูู = ุงุดุชุจุงู ุจุฒุฑฺฏ

9๏ธโฃ ูุฎุชุตุงุช (ูฺฉุชู ููู)

ุงูุงู:

latitude / longitude = Decimal

ุงฺฏุฑ ููุดู ุณูฺฏู ุฏุงุฑ (radius / nearby):

โ๏ธ ุขูุฏูโุงุช ุงูู:

PointField(PostGIS)
GiST index


ุงฺฏุฑ ูุนูุงู ููุท marker ุณุงุฏู ุฏุงุฑ:
โ๏ธ ููู ฺฉุงูู

๐ ุงูุฏฺฉุณโูุง (ุงูุฌุง ููุท ฺฉ ูุดุฏุงุฑ ุฏุงุฑู โ๏ธ)

ุชู ฺฉู over-index ฺฉุฑุฏ
(ุจุฑุง 100k ุงูฺฉูุ ุจุฑุง 1M ูู)

ูพุดููุงุฏ ุญุฑููโุง:

80% ุณุฑฺโูุง ุฑู ุงูุฏุงุฒู ุจฺฏุฑ

ููุท 5โ7 composite index ูฺฏู ุฏุงุฑ

ุจูู ุญุฐู ุง deferred

ูู ุทุฑุงุญ indexูุง ููุทู ู ุญุฑููโุงู

ุฌูุนโุจูุฏ ููุง (ุฎู ููู ๐)
โ ุชุตููุงุชุช ุฏุฑุณุช ุจูุฏู:

โ FK ุจุฑุง ุนุฏุฏูุง โ ุญุฐู

โ Integer + index

โ year_built ุจุฏูู migration

โ floor ููู

โ JSON ุจุฑุง ุฎุงุตโูุง

โ location ููุนุทู ุงุฑุงู

โ SEO mixin ุนุงู

โ ููุท ุงูู ุงุฏุช ุจูููู:

ForeignKey = ูุฒูู JOIN

ูุฑ ฺุฒ ฺฉู:

ููุฏุงุฑ ูุญุฏูุฏ

ุฑูุชุงุฑ ูุณุชูู ูุฏุงุฑู

๐ FK ููโุฎูุงุฏ

ุงฺฏุฑ ุจุฎูุง:

๐ Query ูุงูุน ุฏูุงุฑ ุฑู ุดุจูโุณุงุฒ ฺฉูู

๐ Explain Analyze ุฑู PostgreSQL

๐ง ฺฉุฏ search API ultra-fast

๐งฑ Diagram ููุง Clean

ุจฺฏู ุฏููุงู ุฑู ฺฉุฏูู ุจุฎุด ุจุฑูุ ูู ุนููโุชุฑ ูโุฒูู ๐

ุฎููุฏ ุงุตูุง ฺ ููุดุชู ุงููููู ุชูุถุญ ุฏุงุฏูุจุจู ุณุงู ุณุงุฎุช ู ุงูพุฏุช ฺฉูู ุฏุฑ ูุฏู ุงุฎู ุงูููู ุณุงู ุฑู ุจุฏู ูุฑ ุฏูุนู ุจุงู ุณุงู ุนูุถ ฺฉูู ูู ุณุงู ุจู ูุธุฑุช ูุจุงุฏ ุฌุฏุง ุดู ูู fORIENKEY ุฒุงุฏ ูุดู ฺฺฉุงุฑ ฺฉูู ุณุงู ุณุงุฎุช ุฒุงุฏ ูู ุณุฑฺ ูุดู ููุชุฑ ุฏุงุฑู ุชุนุฏุงุฏ ูุง ูู ููุชุฑ ุจุงุฏ ุจุงุดูุฏ ุงูพุฏุช ฺฉุฑุฏู ูุงููุงุฑู ุจุจู
ุจุจู ุฏุฑ ูุฏู ุทุจูู ฺฏุฒุงุดุชูุ
 ู ููุถูุน ููู ููฺฉู ุฒุฑ ููฺฉู ุฏุงุฑู ุทุจูู ู ููุฑุฏ ุฏูู ุงุชุงู ุจุฏูู ุงุชุงู ูู ุฏุงุฑู ุงูุงุฑู

ุจุฑุง ุงุชุงู ู ููุดุชุงุฑุ ู ุงูุจุงุฑ ุชุนุฏุงุฏ ู ุฏุงุฑุฏ ูุฏุงุฑุฏ ุฏุงุฑู ู ูพุงุฑฺฉูฺฏ ุฏุงุฑุฏ ูุฏุงุฑุฏ ุฏุงุฑู ู ููุบ ฺฉุงุฑุจุฑ ููฺฉ ุจุฑุง ุชุญุงุฑ ูุง ู ุงุฏุง ูููุช ุงุฏุงุฑ ุงูุงุฑู ุฎูุฏู ููุน ฺฉุงุฑุจุฑ ููฺฉ ุฏุงุฑู ู ุณูุฏ ุงุฏุงุฏุฑ ุฏุงุฑุฏ ุง ูุฏุงุฑุฏ ุงูุง ฺุ

ุฏุงุฑู ู ุณูุฏ ุงุฏุงุฏุฑ ุฏุงุฑุฏ ุง ูุฏุงุฑุฏ ุงูุง ฺุ
ุงุฌุงุฑู ฺฉูุชุงู ูุฏุณุช ุจุงุบ ู ููุง ฺฉู ุฎูุฏุด
ุทุฑูุช ุงุณุชุงูุฏุงุฑุฏ 
ุทุฑูุช ุงุถุงูู
ููุช ุจุฑุง ุฑูุฒูุง ุนุงุฏ ุงุฎุฑ ููุชู ุงูุงุฑู ูู ุฏุงุฑู

ูพุด ูุฑูุด ฺฉู ุฎูุฏุด ููุน ูุงุญุฏ ูุถุนุช ุณูุฏ

ุจุงุดูุ ุงูุงู ุฎู ุดูุงู ู ุฎุทโุจูโุฎุท ุฌูุงุจ ูโุฏู ู ุตุฑุญ ูโฺฏู ฺฉุฌุง ูุฏูโูุงุช ุฏุฑุณุชู ู ฺฉุฌุง ุงฺฏุฑ ุงุฏุงูู ุจุฏ ูุฑุฏุง ุจู ูุดฺฉู ูโุฎูุฑ.
ุจููุ ููู ูุงูโูุงุชู ุฏุฏู ู ุฏููุงู ูููู ฺุฒุง ฺฉู ฺฏูุช ุฑู ุจุฑุฑุณ ฺฉุฑุฏูุ ูู ฺฉูโฺฏู.

1๏ธโฃ ุณุงู ุณุงุฎุช (ูููโุชุฑู ุฏุบุฏุบูโุงุช)
ูุณุฆููโุง ฺฉู ุฏุฑุณุช ฺฏูุช

ุณุงู ุณุงุฎุช ุฎู ุณุฑฺ ูุดู

ูุฑ ุณุงู ูุจุงุฏ ุจุง ูุฏู ุฑู ุชุบุฑ ุจุฏ

FK ฺฉุฑุฏูุด = JOIN ุฒุงุฏ = ุงูุช ุณุฑุนุช

ุฌุฏูู ุฌุฏุง = ุฑุฏู ุฒุงุฏ ุจโุงุฑุฒุด

โ ุชุตูู ุฏุฑุณุช (ูููู ฺฉู ุงูุงู ุฏุงุฑ)
year_built = SmallIntegerField(db_index=True)

ฺุฑุง ุงู ุจูุชุฑู ุงูุชุฎุงุจูุ

ุณุงู ุฏุงุฏูโ ูุฑุฌุน ูุณุช โ ุฑูุชุงุฑ ูุณุชูู ูุฏุงุฑู

ููุฏุงุฑุด ูุญุฏูุฏ ู ุนุฏุฏู

PostgreSQL ุจุฑุง Integer + Index ูููโุงูุนุงุฏู ุณุฑุนู

Deduplication ุงูุฏฺฉุณ ุจุงุนุซ ูุดู ุชฺฉุฑุงุฑ ุณุงูโูุง ุงุตูุงู ูุถุง ูฺฏุฑู

โ ฺฉุงุฑ ุงุดุชุจุงู:

ุฌุฏูู Year

ForeignKey

Migration ุณุงูุงูู

๐ ฺฉุงุฑ ฺฉู ุฎู ุญุฑููโุง ุงูุฌุงู ุฏุงุฏ (ููู)
CheckConstraint(year_built between 1300 and 1500)


ุนู:

ุชุง 50 ุณุงู ุขูุฏู ูฺ ุชุบุฑ ูุงุฒู ูุณุช

ุณุฑฺ ุฏููโุงุ ุจุงุฒูโุงุ ุฏูู โ ููุด ุณุฑุน

๐ ูุชุฌู ูุทุน:

ุณุงู ุณุงุฎุช = Integer + Index + Constraint
โ FK = ุงุดุชุจุงู

2๏ธโฃ ุทุจููุ ููฺฉูุ ุฒุฑููฺฉู
ูพุฑุณุฏ: ยซุงุตูุงู ุทุจูู ฺฏุฐุงุดุชูุ ููฺฉู ู ุฒุฑููฺฉู ฺุยป
โ ุจููุ ู ฺฉุงุฑุช ุนุงูู:
floor_number = SmallIntegerField(
  choices=[-2, -1, 0, 1, 2, ...]
)

ฺุฑุง ุงู ูุฏู ุญุฑููโุงูุ

ููฺฉู = 0

ุฒุฑููฺฉู = -1

ููุชุฑ Range (ูุซูุงู <=0)

ุจุฏูู ุดุฑุทโูุง ุนุฌุจ

ุจุฏูู FK

ุจุฏูู JSON

๐ ุฏูุงุฑุ Zillowุ Rightmove ููู ูุฏู ุฑู ุฏุงุฑู

3๏ธโฃ ุงุชุงู ุจุฏูู ุงุชุงู (ุงุณุชูุฏู)
ุณุคุงู: ยซุงุชุงู ููุดุชุงุฑุ ุจุฏูู ุงุชุงู ฺุยป
ุงูุงู ูุฏู ุชู:
bedrooms = 0  # studio

โ ุงู ฺฉุงููุงู ุฏุฑุณุชู

0 = ุจุฏูู ุงุชุงู

1+ = ุงุชุงูโุฏุงุฑ

ููุชุฑ ุณุงุฏู

indexable

โ ุงุดุชุจุงู:

ูุฏู ุฌุฏุง

FK

text-based room

๐ ุงฺฏุฑ ุจุฎูุง UI ูุดูฺฏ:
ุฏุฑ serializer ุง ูุฑุงูุช ุจููุณ:
0 โ ุงุณุชูุฏู

4๏ธโฃ ุงูุจุงุฑ ู ูพุงุฑฺฉูฺฏ (ุชุนุฏุงุฏ + ุฏุงุฑุฏ/ูุฏุงุฑุฏ)
ูุฏู ูุนู ุชู:
parking_spaces = SmallInteger
storage_rooms = SmallInteger

ุงู ุจูุชุฑู ุญุงูุชู ฺูู:

0 = ูุฏุงุฑุฏ

0 = ุฏุงุฑุฏ

ูู count ุฏุงุฑ

ูู boolean implicitly

โ ุฏู ููุฏ (has_parking + parking_count) ุงุดุชุจุงูู
โ๏ธ ูุฏู ุชู ุฏุฑุณุชโุชุฑ ู ุณุฑุนโุชุฑู

5๏ธโฃ ููุน ฺฉุงุฑุจุฑ ููฺฉ (ุชุฌุงุฑุ ุงุฏุงุฑุ ูุณฺฉููโฆ)
ุงูุงู:
usage_type = CharField(choices=...)

ฺฉุงููุงู ุฏุฑุณุช

ฺุฑุง FK ููุ

ุฏุงุฏู static

ุชุบุฑ ฺฉู

ุณุฑฺ ุฒุงุฏ

JOIN = ฺฉูุฏ

๐ ChoiceField ุงูุฌุง ุจูุชุฑู ุชุตููู

6๏ธโฃ ุณูุฏ ุงุฏุงุฑ ุฏุงุฑุฏ ุง ูุฏุงุฑุฏ
ุงูุงู:
document_type = CharField(choices=...)

ุงู ุฏููุงู ูููู ฺุฒู ฺฉู ุจุงุฏ ุจุงุดู

ุฑุณู

ููููุงููโุง

ูุงูุฏ ุณูุฏ

ุฏุฑ ุญุงู ุงุฎุฐ

โ FK ุจุฑุง ุณูุฏ = ุงุดุชุจุงู
ฺูู:

ุฑูุชุงุฑ ูุฏุงุฑู

ููุท ฺฉ ูุถุนุช ุงุณุช

7๏ธโฃ ุงุฌุงุฑู ฺฉูุชุงูโูุฏุชุ ุจุงุบ ู ููุง (ุจุฎุด ุญุณุงุณ)

ุงูุฌุง ุญุฑูุช ฺฉุงููุงู ุฏุฑุณุชู ๐
ุงูโูุง ุจู ููู ููฺฉโูุง ููโุฎูุฑู:

ุธุฑูุช ุงุณุชุงูุฏุงุฑุฏ

ุธุฑูุช ุงุถุงูู

ููุช ุฑูุฒ ุนุงุฏ

ููุช ุขุฎุฑ ููุชู

ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช

โ ุฑุงู ุญุฑููโุง (2025):

ูู ุณุชูู ุฌุฏุฏุ ูู FK

extra_attributes = JSONB


ูุซุงู:

{
  "short_term": true,
  "capacity_standard": 4,
  "capacity_extra": 2,
  "weekday_price": 3000000,
  "weekend_price": 4500000
}

+ ุงูุฏฺฉุณ:
GIN(extra_attributes)


๐ ุงู ุฏููุงู ูุฏู Airbnb ู Jabama ุงุณุช.

8๏ธโฃ ูพุดโูุฑูุด (ููุน ูุงุญุฏ + ูุถุนุช ุณูุฏ)
ุงู ูู ูุจุงุฏ FK ุจุดู

ุฏู ุญุงูุช ุฏุฑุณุช ุฏุงุฑ:

ุญุงูุช 1 (ุณุงุฏู):
is_pre_sale = Boolean
pre_sale_status = ChoiceField

ุญุงูุช 2 (ููุนุทูโุชุฑ):

ุฏุงุฎู JSONB:

{
  "pre_sale": {
    "unit_type": "A",
    "document_status": "in_progress"
  }
}

9๏ธโฃ ุฌูุนโุจูุฏ ุฎู ุฎูุงุตู ู ูุทุน
ููุฑุฏ	ุชุตูู ุฏุฑุณุช
ุณุงู ุณุงุฎุช	Integer + Index
ุชุนุฏุงุฏ ุฎูุงุจ/ุญูุงู	Integer
ุทุจูู	Integer ููู/ูุซุจุช
ุงุณุชูุฏู	bedrooms=0
ูพุงุฑฺฉูฺฏ/ุงูุจุงุฑ	Integer
ููุน ฺฉุงุฑุจุฑ	ChoiceField
ุณูุฏ	ChoiceField
ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช	JSONB
ูพุดโูุฑูุด	JSONB ุง Choice
โ๏ธ ูุงููู ุทูุง (ุงู ุฑู ุญูุธ ฺฉู)

ูุฑ ฺุฒ ฺฉู:

ููุฏุงุฑ ูุญุฏูุฏ ุฏุงุฑู

ุฑูุชุงุฑ ูุณุชูู ูุฏุงุฑู

ุฒุงุฏ ุณุฑฺ ูุดู

โ FK ูฺฉู
โ๏ธ Integer / Choice ฺฉู

ุงฺฏุฑ ุจุฎูุงุ ูุฑุญูู ุจุนุฏ ูโุชููู:

๐ Query ูุงูุน ุฏูุงุฑ ุฑู ุจุง EXPLAIN ANALYZE ุจููุณู

๐งฑ ุฏุงฺฏุฑุงู ููุง Clean ุจุฑุง ฺฉู ุณุณุชู

โก Fast Search API ูุฎุตูุต React Admin

ุจฺฏู ฺฉุฏูููุ ุฏูู ููููโุฌุง ุนูู ูโุฑู.

ุจู ูุธุฑุช ูุง ูุฏู ุฌุฑุฆุงุช ุฏุฑุณุช ฺฉูู ู ุงููุง ุจุฒุงุฑู ุฏุงุฎู ุงูู ูุฏู ุฌุฏุง ฺฉููุ

ุณุคุงู ุฎู ุฎูุจูุ ู ุงู ุฏููุงู ูููู ููุทูโุงู ฺฉู ุฎู ูพุฑูฺูโูุง ุง ุญุฑููโุง ูโุดู ุง ุจุนุฏุงู ุฒูู ูโุฎูุฑู.
ูพุณ ุฌูุงุจ ุฑู ุดูุงูุ ุจุฏูู ุฏููพููู ูโุฏู ๐

โ ยซุขุง ุจุงู ูุฏู ุฌุฒุฆุงุช (Details) ุฌุฏุง ุฏุฑุณุช ฺฉููุยป
ุฌูุงุจ ฺฉูุชุงู:

โ ูู ุจูโุตูุฑุช ฺฉุงูู
โ ุจูู ุจูโุตูุฑุช ููุดููุฏ ู ูุญุฏูุฏ

ุนู:

โ ุงูฺฉู ูููโฺ ุฑู ุจุจุฑ ุชู PropertyDetails โ ุงุดุชุจุงู

โ ุงูฺฉู ุจุนุถ ฺุฒูุง ุฌุฏุง ุจุดู โ ฺฉุงููุงู ุฏุฑุณุช

๐ด ุงุดุชุจุงู ุฑุงุฌ (ฺฉู ูุจุงุฏ ุจฺฉู)
Property
PropertyDetails


ู ุจุนุฏ:

ุณุงู ุณุงุฎุช

ุงุชุงู

ุญูุงู

ูพุงุฑฺฉูฺฏ

ุทุจูู
ููู ุฏุงุฎู PropertyDetails

ฺุฑุง ุงู ฺฉุงุฑ ุจุฏูุ

ูุฑ ูุณุช ููฺฉ = JOIN

ูุฑ ููุชุฑ = JOIN + WHERE

API ฺฉูุฏ

EXPLAIN ANALYZE ุงูุชุถุงุญ

React Admin ูฺฏ

๐ ุฏูุงุฑุ Zillowุ Airbnb ุงู ฺฉุงุฑ ุฑู ููโฺฉูู

โ ุงูฺฏู ุฏุฑุณุช (Professional Hybrid Design โ 2025)
ูุงููู ุทูุง

ูุฑ ฺุฒ ฺฉู:

ุฒุงุฏ ุณุฑฺ ูุดู

ููุชุฑ ุฏุงุฑู

ุนุฏุฏ / enum ูุณุช

ุจุงุฏ ุชู ุฌุฏูู ุงุตู Property ุจุงุดู

โ ฺู ฺุฒูุง ุญุชูุงู ุจุงุฏ ุชู Property ุจูุงููุฏุ

ุงูโูุง ุฑู ูุฑฺฏุฒ ุฌุฏุง ูฺฉู ๐

ููุฏ	ฺุฑุง
year_built	ุณุฑฺ ุฒุงุฏ
bedrooms / bathrooms	ููุชุฑ ุงุตู
parking_spaces	ููุชุฑ
storage_rooms	ููุชุฑ
floor_number	range query
usage_type	ููุชุฑ ููู
document_type	ููุชุฑ
city / province	partition / index

๐ ุงูโูุง = HOT FIELDS

๐ก ูพุณ ยซูุฏู ุฌุฒุฆุงุชยป ฺฉู ูุนู ุฏุงุฑูุ
ููุท ุจุฑุง ุงู ููุงุฑุฏ ๐
1๏ธโฃ ุฏุงุฏูโูุง ฺฉู:

ุจุฑุง ููู ููฺฉโูุง ูุณุช

ุฎู ฺฉู ุณุฑฺ ูุดู

ุจุดุชุฑ ููุงุด ุง ุฎุงุตโุงูุฏ

ูุซุงูโูุง:

ุงุฌุงุฑู ฺฉูุชุงูโูุฏุช

ุจุงุบ / ููุง

ูพุดโูุฑูุด

ุธุฑูุช

ููุช ุขุฎุฑ ููุชู

ุดุฑุงุท ุฎุงุต ุณูุฏ

ุชูุถุญุงุช ูุฑุงุฑุฏุงุฏ

๐ข ุงูฺฏู ูพุดููุงุฏ ููุง (ุจูุชุฑู)
๐ฅ ฺฏุฒูู 1 (ุจูุชุฑู ุฏุฑ 90ูช ฺฉุณโูุง): JSONB
extra_attributes = models.JSONField(default=dict)


ูุซุงู:

{
  "short_term": {
    "enabled": true,
    "capacity_standard": 4,
    "capacity_extra": 2,
    "weekday_price": 3000000,
    "weekend_price": 4500000
  },
  "pre_sale": {
    "unit_type": "A",
    "document_status": "in_progress"
  }
}

ฺุฑุง ุงู ุนุงููุ

โ ุจุฏูู JOIN

โ ฺฉุงููุงู ููุนุทู

โ ูุงุจู ุงูุฏฺฉุณ ุจุง GIN

โ ุจุฏูู migration ุจุฑุง ูุฑ feature ุฌุฏุฏ

๐ข ฺฏุฒูู 2 (ุงฺฏุฑ ุฎู strict ูุณุช): OneToOne ูุญุฏูุฏ
ููุท ุจุฑุง ุจุฎุดโูุง ุณูฺฏู ู ูุณุชูู:
class PropertyShortTerm(models.Model):
    property = OneToOneField(Property)
    capacity_standard = SmallInteger
    capacity_extra = SmallInteger
    weekday_price = BigInteger
    weekend_price = BigInteger

โ๏ธ ูู:

ููุท ุงฺฏุฑ ูุงูุนุงู query ูุณุชูู ุฏุงุฑ

ููุท ุงฺฏุฑ endpoint ุฌุฏุง ูโุฎูุงุฏ

ูู ุจุฑุง ูุณุช ุงุตู ููฺฉ

๐ง ุฏุงฺฏุฑุงู ููุง ูพุดููุงุฏ (ุฐูู)
Property (HOT DATA)
โโโ year_built
โโโ bedrooms
โโโ floor_number
โโโ usage_type
โโโ document_type
โโโ price
โโโ city
โโโ ...
โ
โโโ extra_attributes (JSONB)
โ   โโโ short_term
โ   โโโ pre_sale
โ   โโโ villa_data
โ
โโโ Media / Features / Tags (M2M)

โ ูุชุฌู ููุง (ุฎู ููู)
โ ุงู ฺฉุงุฑ ุฑู ูฺฉู:

PropertyDetails ุจุฑุง ูููโฺุฒ

FK ุจุฑุง ุนุฏุฏูุง

JOIN ุชู ูุณุช ููฺฉ

โ ุงู ฺฉุงุฑ ุฑู ุจฺฉู:

Core fields โ Property

Special / optional โ JSONB

Rare heavy logic โ OneToOne ูุญุฏูุฏ

ุฌูููโุง ฺฉู ุจุงุฏ ุงุฏุช ุจูููู:

Search-heavy data = Table ุงุตู
Optional / special data = JSONB ุง OneToOne

ุงฺฏู ุจุฎูุงุ ูุฏู ุจุนุฏ ูโุชููู:

๐งฑ ุฏุงฺฏุฑุงู ููุง ERD ุฏูู

๐ Query ุณุฑฺ ูุงูุน (ูุซู ุฏูุงุฑ)

โก Index strategy ุฏูู PostgreSQL

๐งช EXPLAIN ANALYZE ุณูุงุฑู ูุงูุน

ุจฺฏู ฺฉุฏููู ูโุฎูุงุ ููููโุฌุง ุนูู ูโุฑู.