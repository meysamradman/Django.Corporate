---
trigger: manual
---
دامنه استفاده از AI در سیستم

سیستم از مدل‌های AI در بخش‌های زیر استفاده می‌کند:

چت آنلاین (Chat)

تولید محتوا (Content Generation)

تولید تصویر (Image Generation)

تولید پادکست / صدا (Audio / Podcast Generation)

ذخیره‌سازی خروجی‌ها

هیچ خروجی‌ای به‌صورت پیش‌فرض در دیتابیس ذخیره نمی‌شود.

ذخیره خروجی‌ها کاملاً اختیاری و وابسته به تصمیم کاربر است.

خروجی تولید محتوا و پادکست می‌تواند برای وبلاگ، نمونه‌کار یا اپلیکیشن‌های دیگر ذخیره شود.

خروجی تولید تصویر در صورت نیاز می‌تواند در مدیای مرکزی ذخیره شود.

متادیتای استفاده (Provider، Model، نوع سرویس، تعداد توکن، هزینه و وضعیت اجرا) می‌تواند برای لاگ و تحلیل ذخیره شود.

Providerها و مدل‌های AI
Provider (ارائه‌دهنده)

سیستم از چندین Provider هوش مصنوعی پشتیبانی می‌کند، از جمله:

OpenRouter

HuggingFace

سایر سرویس‌های مشابه

هر Provider می‌تواند شامل صدها مدل رایگان یا پولی باشد.

مدل‌ها (Models)

مدل‌ها ممکن است به‌صورت مداوم اضافه، حذف یا به‌روزرسانی شوند.

هیچ مدلی نباید به‌صورت Hardcode در فرانت‌اند یا بک‌اند تعریف شود.

مدل‌ها باید به‌صورت کاملاً داینامیک از Provider دریافت و مدیریت شوند.

تمام مدل‌ها از طریق یک ساختار مرکزی در سیستم در دسترس قرار می‌گیرند.

انواع API Key

سیستم از دو نوع API Key پشتیبانی می‌کند:

1. API اشتراکی (Shared API Key)

فقط توسط Super Admin قابل تنظیم است.

قابلیت فعال یا غیرفعال شدن دارد.

Super Admin مشخص می‌کند که Adminهای عادی اجازه استفاده از Shared API را دارند یا خیر.

در صورت Shared بودن Provider یا Model، Adminهای مجاز می‌توانند از آن استفاده کنند.

2. API شخصی (Personal API Key)

هر Admin می‌تواند API اختصاصی خود را وارد کند.

API شخصی فقط برای همان Admin استفاده می‌شود.

Admin عادی به فیلد Shared API Key دسترسی ندارد.

پنل ادمین – مسیرها و صفحات
1. صفحه تنظیمات AI

مسیر:
/ai/settings

وظایف صفحه:

فعال یا غیرفعال کردن Providerها

تنظیم API Key برای Providerها

انتخاب بین API شخصی و Shared

نمایش فیلد Shared API فقط برای Super Admin

ذخیره تنظیمات API به‌عنوان مبنای استفاده کل سیستم

در این صفحه مدل‌ها به‌صورت مستقیم انتخاب نمی‌شوند.

2. صفحه مدیریت مدل‌ها

مسیر:
/ai/models

وظایف صفحه:

نمایش Providerهای فعال‌شده توسط Super Admin

نمایش مدل‌ها به‌صورت داینامیک و وابسته به Provider

انتخاب یک مدل فعال برای هر بخش (Chat، Content، Image، Audio)

جلوگیری از انتخاب چند مدل از یک Provider برای یک بخش
(امکان انتخاب چند Provider وجود دارد، ولی فقط یک مدل از هر Provider برای هر بخش)

فقط مدل‌هایی نمایش داده می‌شوند که Provider آن‌ها در صفحه تنظیمات فعال شده باشد.

رفتار تب‌ها و پاپ‌آپ انتخاب مدل
تب‌ها

تمام Providerهای فعال‌شده توسط Super Admin در مسیر
http://localhost:3000/ai/settings
در همه تب‌ها نمایش داده می‌شوند:

چت آنلاین

تولید محتوا

تولید تصویر

تولید پادکست

هیچ Providerی از تب‌ها حذف نمی‌شود.

پاپ‌آپ انتخاب مدل

با کلیک روی هر Provider، پاپ‌آپ انتخاب مدل باز می‌شود.

حالت 1: Provider برای آن بخش مدل دارد

لیست مدل‌های قابل انتخاب نمایش داده می‌شود.

ترتیب نمایش:

مدل فعال فعلی (Pinned)

مدل‌های رایگان

مدل‌های پولی

حالت 2: Provider برای آن بخش مدل ندارد

پیام مناسب نمایش داده می‌شود (مثلاً: این Provider برای این نوع تولید مدلی ندارد)

یا لیست خالی بدون امکان انتخاب

تشخیص داشتن یا نداشتن مدل فقط در پاپ‌آپ انجام می‌شود.

سطوح دسترسی کاربران
Super Admin

تنظیم Shared API Key

فعال یا غیرفعال کردن Providerها

مدیریت قابلیت‌های مدل‌ها (Override)

انتخاب مدل فعال برای هر بخش

تنظیم API شخصی خود

Admin عادی

مشاهده Providerها و مدل‌ها

تنظیم API شخصی خود

عدم دسترسی به Shared API Key

رفتار نهایی سیستم برای Admin عادی

اگر API شخصی داشته باشد → استفاده از API شخصی

اگر API شخصی نداشته باشد و Shared مجاز باشد → استفاده از Shared

در غیر این صورت → سرویس غیرفعال است

ساختار داینامیک مدل‌ها (بسیار مهم)

مدل‌های AI نباید به‌صورت دستی در Viewها یا بخش‌های مختلف بک‌اند ایمپورت شوند.

برای هر نوع تولید (چت، محتوا، تصویر، پادکست) نباید مدل‌ها جداگانه و دستی اضافه شوند.

تمام مدل‌های AI باید از یک ساختار مرکزی مدیریت و خوانده شوند.

هدف این ساختار

با اضافه شدن Provider یا Model جدید:

نیازی به تغییر Viewها نباشد

نیازی به ایمپورت یا اضافه‌کردن دستی مدل‌ها نباشد

مدل به‌صورت خودکار در تمام بخش‌ها در دسترس باشد

سرعت سیستم حفظ شود